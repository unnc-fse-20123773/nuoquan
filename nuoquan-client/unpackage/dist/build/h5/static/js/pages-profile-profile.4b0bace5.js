(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-profile-profile"],{"1a02":function(e,t,i){"use strict";i.r(t);var a=i("bc51"),n=i("e1b9");for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);i("1d5a"),i("c9f9");var o=i("2877"),s=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"80ca64a8",null);t["default"]=s.exports},"1d5a":function(e,t,i){"use strict";var a=i("ecab"),n=i.n(a);n.a},"75cf":function(e,t,i){"use strict";i.r(t);var a=i("9604"),n=i("fdef5");for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);i("f64c");var o=i("2877"),s=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"f73647fe",null);t["default"]=s.exports},7821:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"uni-picker-view[data-v-80ca64a8]{width:100%;height:%?600?%}.item[data-v-80ca64a8]{line-height:%?90?%;text-align:center;font-size:16px}",""])},"7ffe":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"mypicker",props:{dataList:"",value:""},data:function(){return{title:"picker-view",visible:!0,indicatorStyle:"height: ".concat(Math.round(uni.getSystemInfoSync().screenWidth/8.5),"px;"),maskStyle:""}},onBackPress:function(){console.log("get")},methods:{bindChange:function(e){var t=e.detail.value;this.$emit("change",t)},tapBackground:function(){this.$emit("tapBackground")}}};t.default=a},"862c":function(e,t,i){var a=i("fbe2");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("7fd436aa",a,!0,{sourceMap:!1,shadowMode:!1})},"930d":function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("f499")),r=a(i("1a02")),o={data:function(){for(var e=new Date,t=[],i=e.getFullYear(),a=2004;a<=i+4;a++)t.push(a);var n=["AEE","ABE","CS","CEE","CIVE","ECON","EEE","ENGL","GEOG","IC","IS","MATH","PDM","NUBS"],r=["高中","本科","研究生"];return{genderList:["女","男","其他"],years:t,yearPickerVal:[],majors:n,majorPickerVal:[],degrees:r,degreePickerVal:[],gender:2,year:t[0],major:n[0],degree:r[1],degreeDB:"1",isEdit:!1,userInfo:"",yearPicker:!1,majorPicker:!1,degreePicker:!1}},components:{mypicker:r.default},onLoad:function(){uni.setNavigationBarTitle({title:"个人信息"});var e=this.getGlobalUserInfo();this.userInfo=e;var t=e.gender,i=e.graduationYear,a=e.major,n=e.degree;this.isNull(t)||(this.gender=t),this.isNull(i)||(this.year=i),this.isNull(a)||(this.major=a),this.isNull(n)||(this.degree=this.degrees[n],this.degreeDB=n)},methods:{genderChanger:function(e){this.gender==e?(this.gender=-1,console.log(e)):this.gender=e},yearPickerChanger:function(){0==this.yearPicker?this.yearPicker=!0:this.yearPicker=!1},majorPickerChanger:function(){0==this.majorPicker?this.majorPicker=!0:this.majorPicker=!1},degreePickerChanger:function(){0==this.degreePicker?this.degreePicker=!0:this.degreePicker=!1},editProfile:function(e){0==e?this.isEdit=!0:1==e&&(this.isEdit=!1),console.log(this.isEdit)},cancle:function(){this.editProfile(this.isEdit)},yearChange:function(e){var t=this.years[e];this.year=t,this.yearPickerVal[0]=e},majorChange:function(e){var t=this.majors[e];this.major=t,this.majorPickerVal[0]=e},degreeChange:function(e){var t=this.degrees[e];this.degree=t,this.degreeDB=e[0],this.degreePickerVal[0]=e},formSubmit:function(e){var t=this,i=e.detail.value,a={id:this.userInfo.id,nickname:i.nickname,gender:this.gender,email:i.email,graduationYear:this.year,major:this.major,degree:this.degreeDB},r=this;uni.request({url:r.$serverUrl+"/user/updateUser",method:"POST",data:(0,n.default)(a),header:{"content-type":"application/json"},success:function(e){if(200==e.data.status){var i=e.data.data,a=t.myUser(i);t.setGlobalUserInfo(a),t.userInfo=a,console.log(t.userInfo)}}}),this.editProfile(this.isEdit)},getIndex:function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t)return i;return-1},test:function(e){console.log(e)}}};t.default=o},9604:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{attrs:{id:"profile-container"}},[i("v-uni-view",{attrs:{id:"yellow-box"}}),i("v-uni-form",{on:{submit:function(t){t=e.$handleEvent(t),e.formSubmit(t)},reset:function(t){t=e.$handleEvent(t),e.formReset(t)}}},[i("v-uni-view",{staticClass:"profile-basicinfo-card column_center"},[i("v-uni-image",{staticClass:"profileTouxiang",attrs:{mode:"aspectFill",src:e.userInfo.faceImg}}),0==e.isEdit?i("v-uni-view",{staticClass:"profileText-box"},[i("v-uni-text",{staticClass:"left-profileText1 "},[e._v("昵称")]),null!=e.userInfo.nickname?i("v-uni-text",{staticClass:"right-profileText1"},[e._v(e._s(e.userInfo.nickname))]):i("v-uni-text",{staticClass:"right-profileText1"},[e._v("待设置")]),i("v-uni-text",{staticClass:"left-profileText2"},[e._v("性别")]),null==e.userInfo.gender||-1==e.userInfo.gender?i("v-uni-text",{staticClass:"right-profileText2"},[e._v("待设置")]):i("v-uni-text",{staticClass:"right-profileText2"},[e._v(e._s(e.genderList[e.userInfo.gender]))])],1):e._e(),1==e.isEdit?i("v-uni-view",{staticClass:"profileText-box"},[i("v-uni-text",{staticClass:"left-profileText1 "},[e._v("昵称")]),i("v-uni-text",{staticClass:"right-remind "},[e._v("最长 8 位")]),i("v-uni-input",{staticClass:"right-profileText1-1",staticStyle:{"text-align":"right","min-height":"1upx",height:"26px"},attrs:{maxlength:"8",value:e.userInfo.nickname,name:"nickname"}}),i("v-uni-view",{staticClass:"input-border"}),i("v-uni-text",{staticClass:"left-profileText2"},[e._v("性别")]),i("v-uni-view",{staticClass:"genderPicker"},[i("v-uni-view",{class:[1==e.gender?"genderPicker-buttonclick":"genderPicker-button"],on:{click:function(t){t=e.$handleEvent(t),e.genderChanger(1)}}},[i("v-uni-text",{staticClass:"gender-text"},[e._v("男")])],1),i("v-uni-view",{class:[0==e.gender?"genderPicker-buttonclick":"genderPicker-button"],on:{click:function(t){t=e.$handleEvent(t),e.genderChanger(0)}}},[i("v-uni-text",{staticClass:"gender-text"},[e._v("女")])],1),i("v-uni-view",{class:[2==e.gender?"genderPicker-buttonclick":"genderPicker-button"],on:{click:function(t){t=e.$handleEvent(t),e.genderChanger(2)}}},[i("v-uni-text",{staticClass:"gender-text"},[e._v("其他")])],1)],1)],1):e._e()],1),i("v-uni-view",{staticClass:"profile-moreinfo-card super_center"},[0==e.isEdit?i("v-uni-view",{staticClass:"profilemoreText-box"},[i("v-uni-text",{staticClass:"left-profileText1"},[e._v("学校邮箱")]),null!=e.userInfo.email?i("v-uni-text",{staticClass:"right-profileText1"},[e._v(e._s(e.userInfo.email))]):i("v-uni-text",{staticClass:"right-profileText1"},[e._v("待设置")]),i("v-uni-text",{staticClass:"left-profileText2"},[e._v("毕业年份/专业")]),i("v-uni-text",{staticClass:"right-profileText2"},[e._v(e._s(e.userInfo.graduationYear)+" "+e._s(e.userInfo.major))]),i("v-uni-text",{staticClass:"left-profileText3"},[e._v("学位")]),i("v-uni-text",{staticClass:"right-profileText3"},[e._v(e._s(e.degrees[e.userInfo.degree]))])],1):e._e(),1==e.isEdit?i("v-uni-view",{staticClass:"profilemoreText-box"},[i("v-uni-text",{staticClass:"left-profileText1"},[e._v("学校邮箱")]),i("v-uni-input",{staticClass:"right-profileText1-1",staticStyle:{width:"260px","text-align":"right","min-height":"1upx",height:"26px"},attrs:{maxlength:"26",value:e.userInfo.email,name:"email"}}),i("v-uni-view",{staticClass:"input-border2"}),i("v-uni-text",{staticClass:"left-profileText2"},[e._v("毕业年份/专业")]),i("v-uni-view",{staticClass:"yearPicker"},[i("v-uni-view",{staticClass:"yearPicker-button",on:{click:function(t){t=e.$handleEvent(t),e.yearPickerChanger()}}},[i("v-uni-text",{staticClass:"yearPicker-text"},[e._v(e._s(e.year))]),i("v-uni-view",{staticClass:"year-pointer"},[i("v-uni-image",{staticClass:"year-pointerIcon",attrs:{src:"../../static/icon/angle-down.png",mode:"scaleToFill"}})],1)],1),i("v-uni-view",{staticClass:"yearPicker-button",on:{click:function(t){t=e.$handleEvent(t),e.majorPickerChanger()}}},[i("v-uni-text",{staticClass:"yearPicker-text"},[e._v(e._s(e.major))]),i("v-uni-view",{staticClass:"year-pointer"},[i("v-uni-image",{staticClass:"year-pointerIcon",attrs:{src:"../../static/icon/angle-down.png",mode:"scaleToFill"}})],1)],1)],1),i("v-uni-text",{staticClass:"left-profileText3"},[e._v("学位")]),i("v-uni-view",{staticClass:"degreePicker"},[i("v-uni-view",{staticClass:"yearPicker-button",on:{click:function(t){t=e.$handleEvent(t),e.degreePickerChanger()}}},[i("v-uni-text",{staticClass:"yearPicker-text"},[e._v(e._s(e.degree))]),i("v-uni-view",{staticClass:"year-pointer"},[i("v-uni-image",{staticClass:"year-pointerIcon",attrs:{src:"../../static/icon/angle-down.png",mode:"scaleToFill"}})],1)],1)],1),1==e.yearPicker?i("mypicker",{staticClass:"year-pick-style",attrs:{dataList:e.years,value:e.yearPickerVal},on:{change:function(t){t=e.$handleEvent(t),e.yearChange(t)},tapBackground:function(t){t=e.$handleEvent(t),e.yearPickerChanger()}}}):e._e(),1==e.majorPicker?i("mypicker",{staticClass:"major-pick-style",attrs:{dataList:e.majors,value:e.majorPickerVal},on:{change:function(t){t=e.$handleEvent(t),e.majorChange(t)},tapBackground:function(t){t=e.$handleEvent(t),e.majorPickerChanger()}}}):e._e(),1==e.degreePicker?i("mypicker",{staticClass:"degree-pick-style",attrs:{dataList:e.degrees,value:e.degreePickerVal},on:{change:function(t){t=e.$handleEvent(t),e.degreeChange(t)},tapBackground:function(t){t=e.$handleEvent(t),e.degreePickerChanger()}}}):e._e()],1):e._e()],1),i("v-uni-view",{staticStyle:{display:"flex",height:"5%"}},[0==e.isEdit?i("v-uni-view",{staticClass:"editProfile super_center",on:{click:function(t){t=e.$handleEvent(t),e.editProfile(e.isEdit)}}},[i("v-uni-text",{staticClass:"editProfile-text"},[e._v("编辑信息")])],1):e._e(),1==e.isEdit?i("v-uni-button",{staticClass:"editProfile-edit super_center",attrs:{formType:"submit"}},[i("v-uni-text",{staticClass:"editProfile-text"},[e._v("完成修改")])],1):e._e(),1==e.isEdit?i("v-uni-button",{staticClass:"editProfile-cancle super_center",on:{click:function(t){t=e.$handleEvent(t),e.cancle(t)}}},[i("v-uni-text",{staticClass:"editProfile-cancletext"},[e._v("取消")])],1):e._e()],1)],1)],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},bc51:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticStyle:{height:"100%",width:"100%",position:"fixed",left:"0",top:"0"},on:{click:function(t){t=e.$handleEvent(t),e.tapBackground(t)}}}),i("v-uni-view",{staticStyle:{position:"relative",height:"180px",width:"70px"}},[i("v-uni-view",{staticClass:"picker-shadow"}),e.visible?i("v-uni-picker-view",{staticStyle:{width:"70px",height:"180px",position:"relative",top:"2px",left:"2px"},attrs:{"indicator-style":e.indicatorStyle,value:e.value,"mask-style":e.maskStyle},on:{change:function(t){t=e.$handleEvent(t),e.bindChange(t)}}},[i("v-uni-picker-view-column",e._l(e.dataList,function(t,a){return i("v-uni-view",{key:a,staticClass:"item"},[e._v(e._s(t))])}),1)],1):e._e()],1)],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},c9f9:function(e,t,i){"use strict";var a=i("daae"),n=i.n(a);n.a},d510:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".picker-shadow[data-v-80ca64a8]{height:184px;width:74px;position:absolute;top:0;left:0;-webkit-box-shadow:0 0 10px 1px #a6a6a6;box-shadow:0 0 10px 1px #a6a6a6;background-color:#fff;border-radius:%?15?%;z-index:0}",""])},daae:function(e,t,i){var a=i("d510");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("4b110546",a,!0,{sourceMap:!1,shadowMode:!1})},e1b9:function(e,t,i){"use strict";i.r(t);var a=i("7ffe"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,function(){return a[e]})}(r);t["default"]=n.a},ecab:function(e,t,i){var a=i("7821");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("676a811c",a,!0,{sourceMap:!1,shadowMode:!1})},f64c:function(e,t,i){"use strict";var a=i("862c"),n=i.n(a);n.a},fbe2:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,"uni-page-body[data-v-f73647fe]{height:100%;width:100%}#profile-container[data-v-f73647fe]{position:fixed;width:100%;height:100%;background-color:#f3f3f3}#yellow-box[data-v-f73647fe]{position:fixed;top:0;height:16%;width:100%;background-color:#ffcf3c}.profile-basicinfo-card[data-v-f73647fe]{position:fixed;top:8%;left:7%;width:86%;height:%?300?%;background-color:#fff;border-radius:%?20?%;-webkit-box-shadow:%?0?% %?0?% %?11?% %?1?% #a6a6a6;box-shadow:%?0?% %?0?% %?11?% %?1?% #a6a6a6}.profileTouxiang[data-v-f73647fe]{margin-left:6%;width:%?160?%;height:%?160?%;border-radius:120px;display:inline-block;vertical-align:middle}.profileText-box[data-v-f73647fe]{position:relative;height:%?180?%;width:55%;margin-left:6%}.left-profileText1[data-v-f73647fe]{color:#888;position:absolute;left:0;font-size:%?30?%;font-weight:550}.right-remind[data-v-f73647fe]{color:#888;position:absolute;right:0;font-size:%?20?%;font-weight:500}.right-profileText1[data-v-f73647fe]{color:#3d3d3d;position:absolute;margin-top:%?46?%;right:0;font-size:%?32?%;font-weight:550}\n\n/* 在这里修改输入框样式 */.right-profileText1-1[data-v-f73647fe]{color:#888;position:absolute;margin-top:%?40?%;right:0;font-size:%?32?%;font-weight:550}.input-border[data-v-f73647fe]{position:absolute;margin-top:%?86?%;right:0;border-bottom:%?1?% solid silver;width:80%}.input-border2[data-v-f73647fe]{position:absolute;margin-top:%?86?%;right:0;border-bottom:%?1?% solid silver;width:260px}.input-border3[data-v-f73647fe]{position:absolute;margin-top:%?292?%;right:0;border-bottom:%?1?% solid silver;width:126px}.left-profileText2[data-v-f73647fe]{color:#888;position:absolute;left:0;font-size:%?30?%;margin-top:%?110?%;font-weight:550}.right-profileText2[data-v-f73647fe]{color:#3d3d3d;position:absolute;margin-top:%?146?%;right:0;font-size:%?32?%;font-weight:550}.left-profileText3[data-v-f73647fe]{color:#888;position:absolute;left:0;font-size:%?30?%;margin-top:%?210?%;font-weight:550}.right-profileText3[data-v-f73647fe]{color:#3d3d3d;position:absolute;margin-top:%?246?%;right:0;font-size:%?32?%;font-weight:550}.right-profileText3-3[data-v-f73647fe]{color:#888;position:absolute;margin-top:%?246?%;right:0;font-size:%?32?%;font-weight:550}.profile-moreinfo-card[data-v-f73647fe]{height:30%;margin-left:7%;margin-top:61%;width:86%;background-color:#fff;border-radius:%?20?%;-webkit-box-shadow:%?0?% %?0?% %?11?% %?1?% #a6a6a6;box-shadow:%?0?% %?0?% %?11?% %?1?% #a6a6a6}.profilemoreText-box[data-v-f73647fe]{position:relative;height:90%;width:80%}.editProfile[data-v-f73647fe]{margin-top:8%;margin-left:7%;width:86%;height:100%;background-color:#ffcf3c;border-radius:%?20?%}.editProfile-edit[data-v-f73647fe]{margin-top:8%;margin-left:7%;width:58%;height:100%;background-color:#ffcf3c;border-radius:%?20?%}.editProfile-text[data-v-f73647fe]{color:#fff;font-size:%?36?%;font-weight:400}.editProfile-cancle[data-v-f73647fe]{margin-top:8%;margin-right:7%;width:21%;height:100%;background-color:#dbdbdb;border-radius:%?20?%}.editProfile-cancletext[data-v-f73647fe]{color:#fff;font-size:%?36?%;font-weight:400}.genderPicker[data-v-f73647fe]{position:absolute;margin-top:%?156?%;right:%?-12?%;width:94%;height:30%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.genderPicker-button[data-v-f73647fe]{height:100%;width:%?96?%;border-radius:%?8?%;background-color:#dedede;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;font-size:medium;font-weight:550;align-item:center}.genderPicker-buttonclick[data-v-f73647fe]{height:100%;width:%?96?%;border-radius:%?8?%;background-color:#fdd041;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;align-item:center}.gender-text[data-v-f73647fe]{margin-top:3px;font-size:16px;font-weight:550}.year-pick-style[data-v-f73647fe]{position:absolute;z-index:999;margin-top:%?146?%;top:%?-148?%;right:%?126?%}.major-pick-style[data-v-f73647fe]{position:absolute;z-index:999;margin-top:%?146?%;top:%?-148?%;right:%?-20?%}.yearPicker[data-v-f73647fe]{position:absolute;margin-top:%?156?%;right:%?-12?%;width:48%;\n\t/* 在此更改按钮高度 */height:30px; /* 保证内容剧中 */display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.yearPicker-button[data-v-f73647fe]{height:100%;width:%?122?%;border-radius:%?16?%;background-color:#dedede;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;align-item:center;position:relative}.year-pointer[data-v-f73647fe]{position:absolute;right:0;width:%?22?%;height:100%}.year-pointerIcon[data-v-f73647fe]{width:%?36?%;height:%?36?%;margin-top:%?10?%;margin-left:%?-8?%}.yearPicker-text[data-v-f73647fe]{margin-top:3px;font-size:16px;font-weight:550;color:#888;margin-left:%?-16?%}.degreePicker[data-v-f73647fe]{position:absolute;margin-top:%?250?%;right:%?-14?%;width:24%;\n\t/* 在此更改按钮高度 */height:30px; /* 保证内容剧中 */display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.degree-pick-style[data-v-f73647fe]{position:absolute;z-index:999;margin-top:%?200?%;top:%?-100?%;right:%?-20?%}",""])},fdef5:function(e,t,i){"use strict";i.r(t);var a=i("930d"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,function(){return a[e]})}(r);t["default"]=n.a}}]);