(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"016b":function(t,e,a){var i=a("e4a5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("13497765",i,!0,{sourceMap:!1,shadowMode:!1})},"25b0":function(t,e,a){"use strict";a.r(e);var i=a("ff2e"),r=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=r.a},"4e78":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".weui-search-bar[data-v-7da0dd44]{display:fixed;top:0;left:0;width:100%;height:100%;background:#fffffe;z-index:10}.input-bar[data-v-7da0dd44]{margin-top:4px;margin-left:12px;height:30px;width:100%;position:relative}.back[data-v-7da0dd44]{display:inline-block;width:30px;height:30px;background:#fdd041;border-radius:8px;position:absolute;left:0}.input-background[data-v-7da0dd44]{position:absolute;left:30px;display:inline-block;width:70%;height:28px;border-radius:8px;margin-left:13px;background:#fff;line-height:28px;-webkit-box-shadow:0 2px 15px 0 rgba(0,0,0,.16);box-shadow:0 2px 15px 0 rgba(0,0,0,.16);z-index:10}.input-bar uni-input[data-v-7da0dd44]{position:absolute;left:40px;font-size:15px;display:inline-block;width:66%;height:28px;margin-left:13px;letter-spacing:1px;color:#b2b2b2;font-family:MicrosoftYaHei;line-height:28px;z-index:20}.SearchHistoryItem[data-v-7da0dd44],.wxSearchKey[data-v-7da0dd44]{margin-top:26px;width:calc(750upx-56px);padding:0 28px;position:relative}.exSearchTitle[data-v-7da0dd44],.SearchHistoryItemTitle[data-v-7da0dd44]{color:#888;font-size:13px;font-weight:300}.searchResult[data-v-7da0dd44]{width:100%;height:100%}.searchResultWrods[data-v-7da0dd44]{margin-top:26px;width:calc(750upx-56px);padding:0 28px;position:relative}.item[data-v-7da0dd44]{display:inline-block;padding:0 11px;background:#ffe9a2;border-radius:8px;height:24px;line-height:24px;color:#353535;font-size:13px;font-weight:300;margin-right:14px;\n\t/* 限制字数 */max-width:48%;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.SearchHistoryItem uni-icon[data-v-7da0dd44]{position:absolute;right:28px;top:0}",""])},5641:function(t,e,a){"use strict";a.r(e);var i=a("ac3a"),r=a("cdac");for(var s in r)"default"!==s&&function(t){a.d(e,t,function(){return r[t]})}(s);a("79a4");var n=a("2877"),o=Object(n["a"])(r["default"],i["a"],i["b"],!1,null,"7da0dd44",null);e["default"]=o.exports},"67e7":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"articlecard",attrs:{id:"'+articleCard.id+'"},on:{click:function(e){e=t.$handleEvent(e),t.jumpToDetail()}}},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(t.articleCard.articleTitle))]),a("v-uni-view",{staticClass:"briefarticleCard"},[t._v(t._s(t.articleCard.articleContent))]),a("v-uni-view",{staticClass:"picturearea"}),a("v-uni-view",{staticClass:"tags"},t._l(t.articleCard.tagList,function(e,i){return a("v-uni-view",{key:i,staticClass:"tag",style:{background:t.tagColorList[i]}},[t._v(t._s(e))])}),1),a("v-uni-view",{staticClass:"menubar"},[a("v-uni-image",{staticClass:"touxiang",attrs:{src:t.articleCard.faceImg}}),a("v-uni-view",{staticClass:"name"},[t._v(t._s(t.articleCard.nickname))]),a("v-uni-view",{staticClass:"time"},[t._v(t._s(t.timeDeal(t.articleCard.createDate)))])],1),a("v-uni-view",{staticStyle:{margin:"0 25px","border-top":"1px solid #DCDCDC"}})],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},"70bd":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".articlecard[data-v-a07ab0a6]{width:%?750?%;border-radius:8px;margin:0 auto ;background-color:#fff}.title[data-v-a07ab0a6]{margin:0 25px 0 25px;font-size:15px;font:MicrosoftYaHei;font-weight:700;line-height:19px;padding-top:10px}.briefarticleCard[data-v-a07ab0a6]{max-height:%?500?%;margin:10px 25px 15px;font-size:13px;line-height:15px;margin-bottom:15px;word-break:break-all;white-space:pre-line;-o-text-overflow:ellipsis;text-overflow:ellipsis;\n\t/**文字隐藏后添加省略号*/display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:15;overflow:hidden}.tags[data-v-a07ab0a6]{margin-left:21px}.tag[data-v-a07ab0a6]{display:inline-block;border-radius:4px;padding-left:5px;padding-right:5px;margin-left:5px;height:15px;color:#fff;font-size:10px;background:#621e81}.menubar[data-v-a07ab0a6]{position:relative;vertical-align:middle;margin:0 25px}.touxiang[data-v-a07ab0a6]{border-radius:30px;width:20px;height:20px;margin-right:5px;vertical-align:middle}.name[data-v-a07ab0a6]{display:inline-block;font-size:10px;margin-left:7px;color:#888;padding-bottom:5px;max-width:85px;-o-text-overflow:ellipsis;text-overflow:ellipsis}.time[data-v-a07ab0a6]{position:absolute;right:0;bottom:5px;display:inline-block;font-size:10px;margin-left:25px;color:#888;max-width:80px;-o-text-overflow:ellipsis;text-overflow:ellipsis}.picturearea[data-v-a07ab0a6]{margin:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}uni-image[data-v-a07ab0a6]{width:30%;height:%?200?%;margin:auto}",""])},"79a4":function(t,e,a){"use strict";var i=a("a536"),r=a.n(i);r.a},"9d11":function(t,e,a){"use strict";a.r(e);var i=a("67e7"),r=a("25b0");for(var s in r)"default"!==s&&function(t){a.d(e,t,function(){return r[t]})}(s);a("b7ba"),a("fd47");var n=a("2877"),o=Object(n["a"])(r["default"],i["a"],i["b"],!1,null,"a07ab0a6",null);e["default"]=o.exports},a4f4:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("386d");var r=i(a("5d73")),s=i(a("9d11")),n=!1,o={data:function(){return{hotList:[],searchKeyWords:"",searchedArticleList:[],searching:!0,searchHisKeyList:uni.getStorageSync("search_history"),userInfo:this.getGlobalUserInfo(),totalPage:1,currentPage:1}},components:{searchResultArticle:s.default},created:function(){this.getHotWords()},destroyed:function(){uni.hideLoading()},methods:{getHotWords:function(){var t=this;uni.request({url:t.$serverUrl+"/article/hot",method:"POST",success:function(e){console.log(e),t.hotList=e.data.data,console.log(t.hotList)}})},search:function(t){if(!n){n=!0;var e=this,a=1;""!=this.searchKeyWords&&null!=this.searchKeyWords?(uni.getStorage({key:"search_history",success:function(t){var a=t.data;if(a.length>10){var i=!0,s=!1,n=void 0;try{for(var o,c=(0,r.default)(a);!(i=(o=c.next()).done);i=!0){var l=o.value;if(l==e.searchKeyWords)return!1}}catch(g){s=!0,n=g}finally{try{i||null==c.return||c.return()}finally{if(s)throw n}}a.pop(),a.unshift(e.searchKeyWords)}else{var d=!0,u=!1,h=void 0;try{for(var f,p=(0,r.default)(a);!(d=(f=p.next()).done);d=!0){var v=f.value;if(v==e.searchKeyWords)return!1}}catch(g){u=!0,h=g}finally{try{d||null==p.return||p.return()}finally{if(u)throw h}}a.unshift(e.searchKeyWords)}e.searchHisKeyList=a,uni.setStorage({key:"search_history",data:e.searchHisKeyList})},fail:function(){e.searchHisKeyList=[],e.searchHisKeyList.push(e.searchKeyWords),uni.setStorage({key:"search_history",data:e.searchHisKeyList})}}),uni.showLoading({title:"搜索中..."}),setTimeout(function(){n&&(n=!1,uni.hideLoading(),uni.showToast({title:"网络未知错误",icon:"none",duration:1e3}))},5e3),uni.request({url:e.$serverUrl+"/article/searchArticleYANG",method:"POST",data:{articleContent:e.searchKeyWords,userId:e.userInfo.id,isSaveRecord:a,page:t},success:function(a){if(n=!1,uni.hideLoading(),e.searching=!1,200==a.data.status){1==e.currentPage&&(e.searchedArticleList=[]);var i=a.data.data.rows,r=e.searchedArticleList;e.searchedArticleList=r.concat(i),e.currentPage=t,e.totalPage=a.data.data.total}},fail:function(t){console.log("index unirequest fail"),console.log(t)}})):uni.showToast({title:"搜索内容不能为空",duration:1e3,icon:"none"})}},loadMore:function(){var t=this,e=t.currentPage;console.log("currentpage is "+e);var a=t.totalPage;if(console.log("totalpage is "+a),e==a)uni.showToast({title:"没有更多文章了",icon:"none",duration:1e3});else{var i=e+1;t.search(i)}},searchDeleteAll:function(){var t=this;uni.showModal({title:"提示",content:"确定删除所有历史记录吗?",success:function(e){e.confirm?(t.searchHisKeyList=[],uni.setStorage({key:"search_history",data:t.searchHisKeyList})):e.cancle}})},searchCancle:function(t){this.searching=!t},exitSearch:function(){this.hotList="",this.searchKeyWords="",this.searchedArticleList="",this.$emit("exitSearchSignal",0)},putHotIntoInput:function(t){var e=this.hotList[t];this.searchKeyWords=e},putHisIntoInput:function(t){var e=this.searchHisKeyList[t];this.searchKeyWords=e}}};e.default=o},a536:function(t,e,a){var i=a("4e78");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("4cf443c3",i,!0,{sourceMap:!1,shadowMode:!1})},ac3a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"weui-search-bar"},[a("v-uni-view",{staticClass:"input-bar"},[a("v-uni-image",{staticClass:"back",attrs:{src:"../../static/icon/angle-left.png"},on:{click:function(e){e=t.$handleEvent(e),t.exitSearch(e)}}}),a("v-uni-view",{staticClass:"input-background"}),a("v-uni-input",{attrs:{type:"text",focus:"",placeholder:"搜索","placeholder-style":"color: #b2b2b2;","confirm-type":"search"},on:{confirm:function(e){e=t.$handleEvent(e),t.search(1)}},model:{value:t.searchKeyWords,callback:function(e){t.searchKeyWords=e},expression:"searchKeyWords"}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.searching,expression:"searching"}],staticClass:"wxSearchKey"},[a("v-uni-text",{staticClass:"exSearchTitle"},[t._v("搜索热点:")]),a("v-uni-view",{staticClass:"searchList"},t._l(t.hotList,function(e,i){return a("v-uni-view",{key:i,staticClass:"item",on:{click:function(e){e=t.$handleEvent(e),t.putHotIntoInput(i)}}},[t._v(t._s(e))])}),1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.searching,expression:"searching"}],staticClass:"SearchHistoryItem"},[a("v-uni-view",{staticClass:"SearchHistoryItemTitle"},[t._v("历史搜索:")]),a("v-uni-icon",{attrs:{type:"clear",size:"11"},on:{click:function(e){e=t.$handleEvent(e),t.searchDeleteAll(e)}}}),a("v-uni-view",{staticClass:"searchList"},t._l(t.searchHisKeyList,function(e,i){return a("v-uni-view",{key:i,staticClass:"item",on:{click:function(e){e=t.$handleEvent(e),t.putHisIntoInput(i)}}},[t._v(t._s(e))])}),1)],1),a("v-uni-view",{staticClass:"searchResultWrods column_center"},[a("v-uni-view",{staticStyle:{color:"#888888","font-size":"13px","font-weight":"300"}},[t._v("搜索结果:")]),a("v-uni-icon",{directives:[{name:"show",rawName:"v-show",value:!t.searching,expression:"!searching"}],staticStyle:{position:"absolute",right:"28px"},attrs:{type:"clear",size:"11"},on:{click:function(e){e=t.$handleEvent(e),t.searchCancle(t.searching)}}})],1),a("v-uni-scroll-view",{directives:[{name:"show",rawName:"v-show",value:!t.searching,expression:"!searching"}],staticClass:"searchResult",attrs:{"scroll-y":"true"},on:{scrolltolower:function(e){e=t.$handleEvent(e),t.loadMore()}}},t._l(t.searchedArticleList,function(t){return a("searchResultArticle",{key:t.id,attrs:{articleCard:t}})}),1)],1)},r=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r})},b7ba:function(t,e,a){"use strict";var i=a("016b"),r=a.n(i);r.a},cdac:function(t,e,a){"use strict";a.r(e);var i=a("a4f4"),r=a.n(i);for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);e["default"]=r.a},e4a5:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"uni-image[data-v-a07ab0a6]{border:none;outline:none}",""])},ece8:function(t,e,a){var i=a("70bd");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("53a1f884",i,!0,{sourceMap:!1,shadowMode:!1})},fd47:function(t,e,a){"use strict";var i=a("ece8"),r=a.n(i);r.a},ff2e:function(t,e,a){"use strict";var i=a("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(a("f499")),s={name:"aticlebrief",props:{articleCard:{}},data:function(){return{tagColorList:[]}},created:function(){if(!this.isNull(this.articleCard.tagList))for(var t=this.tagColors,e=0;e<this.articleCard.tagList.length;e++){var a=Math.floor(Math.random()*t.length);this.tagColorList.push(t[a])}},methods:{jumpToDetail:function(){var t=(0,r.default)(this.articleCard);uni.navigateTo({url:"/pages/detail/detail?data="+t})}}};e.default=s}}]);