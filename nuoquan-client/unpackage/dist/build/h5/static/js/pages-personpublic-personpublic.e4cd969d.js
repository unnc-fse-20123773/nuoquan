(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-personpublic-personpublic"],{"2ad3":function(t,e,i){"use strict";i.r(e);var a=i("6a6a"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},"31de":function(t,e,i){"use strict";i.r(e);var a=i("7d46"),o=i("2ad3");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("96bd");var s=i("2877"),r=Object(s["a"])(o["default"],a["a"],a["b"],!1,null,"28ec47fe",null);e["default"]=r.exports},"6a6a":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,n,s=a(i("f499")),r=!1,l={data:function(){return{screenWidth:350,serverUrl:this.$serverUrl,thisUserInfo:"",myPublic:!1,windowHeight:0,windowWidth:0,yellowBottom:"",cardWidth:"",ifhaveImg:0,totalPage:1,currentPage:1,totalNum:"0",myArticleList:""}},onLoad:function(t){n=t.userId,o=this.getGlobalUserInfo(),o.id==n&&(this.myPublic=!0);var e=uni.getSystemInfoSync().screenWidth;this.screenWidth=e;this.page;this.queryUserWithFollow(n);var i=this;uni.getSystemInfo({success:function(t){i.windowHeight=t.windowHeight,i.windowWidth=t.windowWidth}}),i.windowHeight<=1e3?i.windowHeight<667?i.yellowBottom=.25*-i.windowHeight+"px":i.yellowBottom=.22*-i.windowHeight+"px":i.yellowBottom=.2*-i.windowHeight+"px",i.cardWidth=i.windowWidth-26+"px",this.showArticles(1)},onPullDownRefresh:function(){console.log("refresh"),setTimeout(function(){uni.stopPullDownRefresh()},1e3)},methods:{addFollow:function(t){console.log("加关注...");var e=this;uni.request({url:e.$serverUrl+"/user/follow",method:"POST",data:{userId:t,fanId:o.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(i){200==i.data.status&&e.queryUserWithFollow(t)}})},cancelFollow:function(t){console.log("取关...");var e=this;uni.request({url:e.$serverUrl+"/user/dontFollow",method:"POST",data:{userId:t,fanId:o.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(i){200==i.data.status&&e.queryUserWithFollow(t)}})},goToChatPage:function(){var t=this.thisUserInfo;uni.redirectTo({url:"../chatpage/chatpage?friendInfo="+(0,s.default)(t)})},goToFansFollow:function(t){console.log("goToFansFollow...");var e={currentTab:t,thisUserInfo:this.thisUserInfo};uni.redirectTo({url:"../followlist/followlist?data="+(0,s.default)(e)})},queryUserWithFollow:function(t){var e=this;uni.request({url:e.$serverUrl+"/user/queryUserWithFollow",method:"POST",data:{userId:t,fanId:o.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){200==t.data.status&&(e.thisUserInfo=t.data.data,e.setUserInfoToUserList(t.data.data),uni.setNavigationBarTitle({title:e.thisUserInfo.nickname+"的主页"}))}})},showArticles:function(t){console.log(r),r&&(r=!1),r=!0,uni.showLoading({title:"加载中..."}),setTimeout(function(){r&&(r=!1,uni.hideLoading(),uni.showToast({title:"网络未知错误",icon:"none",duration:1e3}))},5e3);var e=this;uni.request({url:e.$serverUrl+"/article/queryPublishHistory",method:"POST",data:{page:t,userId:o.id,targetId:n},header:{"content-type":"application/x-www-form-urlencoded"},success:function(i){setTimeout(function(){uni.hideLoading(),r=!1,console.log(i),1==t&&(e.myArticleList=[]);var a=i.data.data.rows,o=e.myArticleList;e.myArticleList=o.concat(a),e.currentPage=t,e.totalPage=i.data.data.total,e.totalNum=i.data.data.records,console.log(e.totalNum)},300)},fail:function(t){uni.hideLoading(),r=!1,console.log("index unirequest fail"),console.log(t)}})},loadMore:function(){var t=this,e=t.currentPage;console.log(e);var i=t.totalPage;if(console.log(i),e==i)uni.showToast({title:"没有更多文章了",icon:"none",duration:1e3});else{var a=e+1;t.showArticles(a)}},jumpToDetail:function(t){var e=(0,s.default)(t);uni.navigateTo({url:"/pages/detail/detail?data="+e})}}};e.default=l},"7d46":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{attrs:{id:"public-container"}},[i("v-uni-view",{attrs:{id:"yellowTopBox"}},[i("v-uni-view",{staticClass:"yellowTop",style:{bottom:t.yellowBottom}})],1),i("v-uni-view",{staticClass:"column_center",attrs:{id:"public-infoBox"}},[i("v-uni-view",{staticClass:"idCard",style:{width:t.cardWidth},attrs:{id:"idCard"}},[i("v-uni-view",{staticClass:"super_center",staticStyle:{width:"100%",height:"74px","margin-top":"-46px"}},[i("v-uni-image",{staticClass:"publicTouxiang",attrs:{mode:"aspectFill",src:t.thisUserInfo.faceImg}})],1),i("v-uni-view",{staticClass:"nameBox super_center"},[i("v-uni-text",{staticClass:"name-text"},[t._v(t._s(t.thisUserInfo.nickname))])],1),i("v-uni-view",{staticClass:"introBox super_center"},[i("v-uni-text",{staticClass:"introBox-text"},[t._v("个人简介：这个人很懒，什么都没写哦...")])],1),t.myPublic?t._e():i("v-uni-view",{staticClass:"guanzhuBox super_center"},[i("v-uni-view",{staticClass:"guanzhuLine super_center"},[i("v-uni-view",{staticStyle:{height:"100%",display:"flex"}},[0==t.thisUserInfo.follow?i("v-uni-button",{staticClass:"guanzhuButton super_center",on:{click:function(e){e=t.$handleEvent(e),t.addFollow(t.thisUserInfo.id)}}},[i("v-uni-text",{staticClass:"guanzhuButton-text"},[t._v("关注")])],1):t._e(),1==t.thisUserInfo.follow?i("v-uni-button",{staticClass:"guanzhuButton-after super_center",staticStyle:{border:"1px solid rgba(255,201,90,1)"},attrs:{plain:"true"},on:{click:function(e){e=t.$handleEvent(e),t.cancelFollow(t.thisUserInfo.id)}}},[i("v-uni-text",{staticClass:"guanzhuButton-text-after"},[t._v("已关注")])],1):t._e(),i("v-uni-view",{staticClass:"messageButton super_center",on:{click:function(e){e=t.$handleEvent(e),t.goToChatPage(e)}}},[i("v-uni-image",{staticStyle:{width:"18px",height:"18px",opacity:"1"},attrs:{src:"../../static/icon/comment-personpublic.png",mode:"scaleToFill"}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"operationLine"},[i("v-uni-view",{staticClass:"operationCard",on:{click:function(e){e=t.$handleEvent(e),t.goToFansFollow(1)}}},[i("v-uni-view",{staticClass:"operationNum super_center"},[i("v-uni-text",{staticClass:"operationNum-text",staticStyle:{color:"color:rgba(53,53,53,1)"}},[t._v(t._s(t.thisUserInfo.fansNum))])],1),i("v-uni-view",{staticClass:"operationTitle super_center"},[i("v-uni-text",{staticClass:"operationTitle-text"},[t._v("粉丝")])],1)],1),i("v-uni-view",{staticClass:"operationCard"},[i("v-uni-view",{staticClass:"operationNum super_center"},[i("v-uni-text",{staticClass:"operationNum-text",staticStyle:{color:"rgba(254,95,85,1)"}},[t._v("999999")])],1),i("v-uni-view",{staticClass:"operationTitle super_center"},[i("v-uni-text",{staticClass:"operationTitle-text"},[t._v("影响力")])],1)],1),i("v-uni-view",{staticClass:"operationCard",on:{click:function(e){e=t.$handleEvent(e),t.goToFansFollow(0)}}},[i("v-uni-view",{staticClass:"operationNum super_center"},[i("v-uni-text",{staticClass:"operationNum-text",staticStyle:{color:"color:rgba(53,53,53,1)"}},[t._v(t._s(t.thisUserInfo.followNum))])],1),i("v-uni-view",{staticClass:"operationTitle super_center"},[i("v-uni-text",{staticClass:"operationTitle-text"},[t._v("关注")])],1)],1)],1)],1)],1),i("v-uni-view",{attrs:{id:"public-titleBox"}},[i("v-uni-text",{staticClass:"public-title-text"},[t._v("个人信息")])],1),i("v-uni-view",{style:{width:t.cardWidth},attrs:{id:"publix-profileLine"}},[i("v-uni-view",{staticClass:"profileCard"},[null!=t.thisUserInfo.graduationYear?i("v-uni-text",{staticClass:"profile-content-text"},[t._v(t._s(t.thisUserInfo.graduationYear))]):i("v-uni-text",{staticClass:"profile-content-text"},[t._v("未知")]),i("v-uni-text",{staticClass:"profile-title-text"},[t._v("毕业年份")])],1),i("v-uni-view",{staticClass:"profileCard"},[null!=t.thisUserInfo.major?i("v-uni-text",{staticClass:"profile-content-text"},[t._v(t._s(t.thisUserInfo.major))]):i("v-uni-text",{staticClass:"profile-content-text"},[t._v("未知")]),i("v-uni-text",{staticClass:"profile-title-text"},[t._v("专业")])],1)],1),i("v-uni-view",{attrs:{id:"public-titleBox"}},[i("v-uni-text",{staticClass:"public-title-text"},[t._v("发布文章")])],1),i("v-uni-view",{style:{width:t.cardWidth},attrs:{myArticleList:t.myArticleList}},t._l(t.myArticleList,function(e){return i("v-uni-view",{key:e.id,style:{width:t.cardWidth},attrs:{id:"public-articleCard"},on:{click:function(i){i=t.$handleEvent(i),t.jumpToDetail(e)}}},[i("v-uni-view",{staticClass:"articleTitle"},[t._v(t._s(e.articleTitle))]),i("v-uni-view",{staticClass:"articleContentLine"},[i("v-uni-view",{class:[e.imgList.length>0?"textareaCard-img":"textareaCard"]},[i("v-uni-view",{staticClass:"textContent"},[t._v(t._s(e.articleContent))]),i("v-uni-view",{staticClass:"bottomBar"},[i("v-uni-view",{staticStyle:{position:"relative",width:"100%",height:"100%"}},[i("v-uni-view",{staticClass:"bottom-time column_center"},[i("v-uni-text",[t._v(t._s(t.timeDeal(e.createDate)))])],1),i("v-uni-view",{staticClass:"view column_center"},[i("v-uni-image",{attrs:{src:"../../static/icon/eye-888888.png",mode:"aspectFill"}}),i("v-uni-text",[t._v(t._s(e.viewNum))])],1),i("v-uni-view",{staticClass:"comment column_center"},[i("v-uni-image",{attrs:{src:"../../static/icon/comment-alt.png",mode:"aspectFill"}}),i("v-uni-text",[t._v(t._s(e.commentNum))])],1),i("v-uni-view",{staticClass:"like column_center"},[i("v-uni-image",{attrs:{src:"../../static/icon/like.png",mode:"aspectFill"}}),i("v-uni-text",[t._v(t._s(e.likeNum))])],1)],1)],1)],1),e.imgList.length>0?i("v-uni-view",{staticClass:"imgBox"},[i("v-uni-image",{attrs:{mode:"aspectFill",src:t.serverUrl+e.imgList[0].imagePath}})],1):t._e()],1)],1)}),1),i("v-uni-view",{staticStyle:{height:"30px"},style:{width:t.cardWidth}})],1)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},"96bd":function(t,e,i){"use strict";var a=i("fda6"),o=i.n(a);o.a},df73:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-28ec47fe]{width:100%}#public-container[data-v-28ec47fe]{height:100%;width:100%;overflow:hidden}\r\n\r\n/* 黄色头部 */#yellowTopBox[data-v-28ec47fe]{width:100%;position:relative;z-index:-30}.yellowTop[data-v-28ec47fe]{position:absolute; /* 此处采用 absolote 定位，以保证页面流可以正常显示。层级设为 -10，以保证其显示在页面最底部。 */left:%?-430?%;height:%?1600?%;width:%?1600?%;z-index:-10;border-radius:%?3000?%;background-color:#ffc95a}\r\n\r\n/* 简介块 */#public-infoBox[data-v-28ec47fe]{width:100%}.publicTouxiang[data-v-28ec47fe]{width:74px;height:74px;border-radius:120px;border:4px solid #fff;display:inline-block;vertical-align:middle}.idCard[data-v-28ec47fe]{margin-top:64px;margin-left:13px;border-radius:8px;min-height:140px;background-color:#fff;-webkit-box-shadow:0 0 6px rgba(0,0,0,.16);box-shadow:0 0 6px rgba(0,0,0,.16)}.nameBox[data-v-28ec47fe]{margin-top:8px;width:100%}.nameBox .name-text[data-v-28ec47fe]{font-size:17px;font-weight:600}.introBox[data-v-28ec47fe]{margin-top:12px;width:100%}.introBox-text[data-v-28ec47fe]{max-width:61%;font-size:12px;font-weight:400;line-height:13px;color:#888;opacity:1;word-break:keep-all;word-wrap:break-word}.guanzhuLine[data-v-28ec47fe]{margin-top:17px;height:26px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.guanzhuButton[data-v-28ec47fe]{\r\n\t/* margin-left: 35.2%; */margin-right:0;width:68px;height:26px;background-color:#ffc95a;-webkit-box-shadow:0 0 4px rgba(0,0,0,.16);box-shadow:0 0 4px rgba(0,0,0,.16);opacity:1;border-radius:4px}.guanzhuButton-after[data-v-28ec47fe]{\r\n\t/* margin-left: 31.2%; */margin-right:0;width:82px;height:26px;opacity:1;border-radius:4px}.guanzhuButton-text[data-v-28ec47fe]{font-size:14px;font-family:Source Han Sans CN;font-weight:400;color:#fff;opacity:1}.guanzhuButton-text-after[data-v-28ec47fe]{font-size:14px;font-family:Source Han Sans CN;font-weight:400;line-height:13px;color:#ffc95a;opacity:1}.messageButton[data-v-28ec47fe]{margin-left:8px;margin-top:-1px;width:28px;height:28px;background:#fff1d5;border-radius:14px;opacity:1}.operationLine[data-v-28ec47fe]{margin:17px 3.2%;width:93.6%;height:43px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.operationCard[data-v-28ec47fe]{width:33.3%;height:43px}.operationNum[data-v-28ec47fe]{width:100%;height:17px;overflow:visible}.operationNum-text[data-v-28ec47fe]{font-size:17px;font-family:Source Han Sans CN;font-weight:800;opacity:1}.operationTitle[data-v-28ec47fe]{margin-top:11px;width:100%;height:11px;overflow:visible}.operationTitle-text[data-v-28ec47fe]{font-size:10px;font-family:Source Han Sans CN;font-weight:500;color:#b2b2b2;opacity:1}\r\n\r\n/* 标题 */#public-titleBox[data-v-28ec47fe]{width:100%;margin-top:20px;margin-bottom:12px}.public-title-text[data-v-28ec47fe]{margin-left:13px;font-size:17px;font-family:Source Han Sans CN;font-weight:700;color:#888;opacity:1;letter-spacing:1px}\r\n\r\n/* 他的信息块 */#publix-profileLine[data-v-28ec47fe]{margin-left:13px;border-radius:8px;background-color:#fff;-webkit-box-shadow:0 0 6px rgba(0,0,0,.16);box-shadow:0 0 6px rgba(0,0,0,.16);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.profileCard[data-v-28ec47fe]{width:50%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.profile-content-text[data-v-28ec47fe]{margin-top:16px;margin-left:38px;font-size:17px;font-family:Source Han Sans CN;font-weight:500;color:#353535;opacity:1}.profile-title-text[data-v-28ec47fe]{margin-bottom:16px;margin-top:8px;margin-left:38px;font-size:10px;font-family:Source Han Sans CN;font-weight:500;color:#b2b2b2;opacity:1}\r\n\r\n/* 他的发布文章块 */#public-articleCard[data-v-28ec47fe]{margin-bottom:8px;max-height:114px;margin-left:13px;padding:12px 0;border-radius:8px;background-color:#fff;-webkit-box-shadow:0 0 6px rgba(0,0,0,.16);box-shadow:0 0 6px rgba(0,0,0,.16)}.articleTitle[data-v-28ec47fe]{width:calc(100% - 32px);margin-left:16px;font-size:15px;font-family:Source Han Sans CN;font-weight:550;color:#4a4a4a;opacity:1;white-space:nowrap;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;line-height:17px}.articleContentLine[data-v-28ec47fe]{margin-top:12px;width:calc(100% - 32px);margin-left:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}\r\n\r\n/* 定高 */.textareaCard[data-v-28ec47fe]{position:relative;height:63px;width:100%}.textareaCard-img[data-v-28ec47fe]{position:relative;height:63px;width:calc(100% - 61px);margin-right:12px}.textContent[data-v-28ec47fe]{position:absolute;top:0;width:100%;max-height:39px;font-size:12px;font-family:Source Han Sans CN;font-weight:400;line-height:13px;color:#353535;opacity:1;word-break:break-all;-o-text-overflow:ellipsis;text-overflow:ellipsis;\r\n\t/**文字隐藏后添加省略号*/display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}.bottomBar[data-v-28ec47fe]{position:absolute;bottom:0;width:100%;height:12px}.bottomBar uni-image[data-v-28ec47fe]{height:12px;width:12px}.bottomBar uni-text[data-v-28ec47fe]{margin-left:4px;font-size:10px;font-family:Source Han Sans CN;font-weight:400;color:#888;opacity:1}.bottom-time[data-v-28ec47fe]{position:absolute;width:84px;height:12px}.bottomBar .bottom-time uni-text[data-v-28ec47fe]{margin-left:0;font-size:10px;font-family:Source Han Sans CN;font-weight:400;color:#9b9b9b;opacity:1;white-space:nowrap}.view[data-v-28ec47fe]{position:absolute;width:43px;height:12px;right:86px}.comment[data-v-28ec47fe]{position:absolute;width:43px;height:12px;right:43px}.like[data-v-28ec47fe]{position:absolute;width:43px;height:12px;right:0}.imgBox[data-v-28ec47fe]{width:61px;height:61px}.imgBox uni-image[data-v-28ec47fe]{width:61px;height:61px}",""])},fda6:function(t,e,i){var a=i("df73");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("6a9cd9d2",a,!0,{sourceMap:!1,shadowMode:!1})}}]);