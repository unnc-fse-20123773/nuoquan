(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cmt-likedetail/cmt-likedetail"],{"087e":function(t,e,i){"use strict";i.r(e);var a=i("ec17"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=s.a},"339f":function(t,e,i){"use strict";i.r(e);var a=i("a07a"),s=i("087e");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("9a09");var o=i("2877"),r=Object(o["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},5641:function(t,e,i){},"7c36":function(t,e,i){"use strict";i("5ad9");var a=n(i("b0ce")),s=n(i("339f"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))},"9a09":function(t,e,i){"use strict";var a=i("5641"),s=i.n(a);s.a},a07a:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{attrs:{id:"public-container"}},[i("view",{attrs:{id:"public-message-futherbox"}},[i("scroll-view",{staticClass:"top-menu-view",attrs:{"scroll-x":"true","scroll-left":"scrollLeft"}},t._l(t.menuTabs,function(e,a){return i("block",{key:a},[i("view",{staticClass:"menu-one-view",attrs:{id:"tabNum"+a,eventid:"92389ff8-1-"+a},on:{click:function(e){t.swichMenu(a)}}},[i("view",{class:[t.currentTab==a?"menu-one-act":"menu-one"]},[i("view",{staticClass:"menu-one-txt",attrs:{eventid:"92389ff8-0-"+a},on:{tap:t.goTop}},[t._v(t._s(e.name))]),i("view",{staticClass:"menu-one-bottom"},[i("view",0==a?{staticClass:"menu-one-bottom-color1"}:{staticClass:"menu-one-bottom-color2"})])])])])})),i("swiper",{staticClass:"swiper-box-list",attrs:{current:t.currentTab,duration:"300",eventid:"92389ff8-11"},on:{change:t.swiperChange}},t._l(t.swiperDataList,function(e,a){return i("swiper-item",{key:a,staticClass:"swiper-box",attrs:{mpcomid:"92389ff8-0-"+a}},[i("scroll-view",{staticClass:"scroll-test",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true","enable-back-to-top":"true",eventid:"92389ff8-10-"+a},on:{scrolltoupper:t.upper,scrolltolower:function(e){t.loadMore(a)},scroll:t.scroll}},[t._l(0==a?t.likeList:t.commentList,function(e,s){return i("view",{key:s},[e.action==t.LIKEARTICLE?i("view",{staticClass:"cmtlikeDetail-card"},[i("view",{staticClass:"marginHelper1"}),i("view",{staticClass:"id-line-abs"},[i("view",{staticClass:"id-line-rel"},[i("view",{staticClass:"clTouxiang-box"},[i("image",{staticClass:"clTouxiang",attrs:{src:e.data.source.faceImg,mode:"scaleToFill",eventid:"92389ff8-2-"+a+"-"+s},on:{tap:function(e){t.goToPersonPublic(t.likeList[s].data.source.userId)}}})]),i("view",{staticClass:"clID-box"},[i("text",{staticClass:"clID-text"},[t._v(t._s(e.data.source.nickname))]),i("text",{staticClass:"clID-operation"},[t._v("点赞了你的文章")])]),i("view",{staticClass:"clID-time"},[t._v(t._s(e.data.source.createDate))])])]),i("view",{class:[e.data.imgList.length>0?"origin-bar-abs-img":"origin-bar-abs-noimg"],attrs:{eventid:"92389ff8-3-"+a+"-"+s},on:{tap:function(e){t.goToArticle(t.likeList[s].data.target)}}},[i("view",{staticClass:"origin-bar-rel"},[e.data.target.imgList.length>0?i("view",{staticClass:"origin-imageBox"},[i("view",{staticClass:"origin-imageMask"}),i("view",{staticClass:"origin-imageMasknum super_center"},[i("view",{staticClass:"origin-imageMasknumtext"},[t._v("+"+t._s(e.data.target.imgList.length))])]),i("image",{staticClass:"origin-image",attrs:{src:t.serverUrl+e.data.target.imgList[0].imagePath,mode:"scaleToFill"}})]):t._e(),i("view",{class:[e.data.imgList.length>0?"origin-briefBox-img":"origin-briefBox-noimg"]},[i("view",{staticClass:"origin-briefTitlebox"},[i("text",{staticClass:"origin-briefTitle"},[t._v(t._s(e.data.target.articleTitle))])]),i("view",{staticClass:"origin-briefTextbox"},[i("text",{staticClass:"origin-briefText"},[t._v(t._s(e.data.target.articleContent))])])])])]),i("view",{staticClass:"marginHelper2"})]):t._e(),e.action==t.LIKECOMMENT?i("view",{staticClass:"cmtlikeDetail-card"},[i("view",{staticClass:"marginHelper1"}),i("view",{staticClass:"id-line-abs"},[i("view",{staticClass:"id-line-rel"},[i("view",{staticClass:"clTouxiang-box"},[i("image",{staticClass:"clTouxiang",attrs:{src:e.data.source.faceImg,mode:"scaleToFill",eventid:"92389ff8-4-"+a+"-"+s},on:{tap:function(e){t.goToPersonPublic(t.likeList[s].data.source.userId)}}})]),i("view",{staticClass:"clID-box"},[i("text",{staticClass:"clID-text"},[t._v(t._s(e.data.source.nickname))]),i("text",{staticClass:"clID-operation"},[t._v("点赞了你的评论")])]),i("view",{staticClass:"clID-time"},[t._v(t._s(e.data.source.createDate))])])]),i("view",{staticClass:"brief-bar-abs",attrs:{eventid:"92389ff8-5-"+a+"-"+s},on:{tap:function(e){t.goToComment(t.likeList[s].data.target.articleId)}}},[i("view",{staticClass:"brief-bar-rel"},[t._v(t._s(e.data.target.comment))])]),i("view",{staticClass:"marginHelper2"})]):t._e(),e.action==t.COMMENTARTICLE?i("view",{staticClass:"cmtlikeDetail-card"},[i("view",{staticClass:"marginHelper1"}),i("view",{staticClass:"id-line-abs"},[i("view",{staticClass:"id-line-rel"},[i("view",{staticClass:"clTouxiang-box"},[i("image",{staticClass:"clTouxiang",attrs:{src:e.data.source.faceImg,mode:"scaleToFill",eventid:"92389ff8-6-"+a+"-"+s},on:{tap:function(e){t.goToPersonPublic(t.commentList[s].data.source.fromUserId)}}})]),i("view",{staticClass:"clID-box"},[i("text",{staticClass:"clID-text"},[t._v(t._s(e.data.source.nickname))]),i("text",{staticClass:"clID-operation"},[t._v("评论了你的文章")])]),i("view",{staticClass:"clID-time"},[t._v(t._s(e.data.source.createDate))])])]),i("view",{attrs:{eventid:"92389ff8-7-"+a+"-"+s},on:{tap:function(e){t.goToComment(t.commentList[s].data.source.articleId)}}},[i("view",{staticClass:"brief-bar-nocolor"},[i("view",{staticClass:"brief-bar-rel"},[t._v(t._s(e.data.source.comment))])]),i("view",{class:[e.data.target.imgList.length>0?"origin-bar-abs-img":"origin-bar-abs-noimg"]},[i("view",{staticClass:"origin-bar-rel"},[e.data.target.imgList.length>0?i("view",{staticClass:"origin-imageBox"},[i("view",{staticClass:"origin-imageMask"}),i("view",{staticClass:"origin-imageMasknum super_center"},[i("view",{staticClass:"origin-imageMasknumtext"},[t._v("+"+t._s(e.data.target.imgList.length))])]),i("image",{staticClass:"origin-image",attrs:{src:t.serverUrl+e.data.target.imgList[0].imagePath,mode:"scaleToFill"}})]):t._e(),i("view",{class:[e.data.target.imgList.length>0?"origin-briefBox-img":"origin-briefBox-noimg"]},[i("view",{staticClass:"origin-briefTitlebox"},[i("text",{staticClass:"origin-briefTitle"},[t._v(t._s(e.data.target.articleTitle))])]),i("view",{staticClass:"origin-briefTextbox"},[i("text",{staticClass:"origin-briefText"},[t._v(t._s(e.data.target.articleContent))])])])])])]),i("view",{staticClass:"marginHelper2"})]):t._e(),e.action==t.COMMENTCOMMENT?i("view",{staticClass:"cmtlikeDetail-card"},[i("view",{staticClass:"marginHelper1"}),i("view",{staticClass:"id-line-abs"},[i("view",{staticClass:"id-line-rel"},[i("view",{staticClass:"clTouxiang-box"},[i("image",{staticClass:"clTouxiang",attrs:{src:e.data.source.faceImg,mode:"scaleToFill",eventid:"92389ff8-8-"+a+"-"+s},on:{tap:function(e){t.goToPersonPublic(t.commentList[s].data.source.fromUserId)}}})]),i("view",{staticClass:"clID-box"},[i("text",{staticClass:"clID-text"},[t._v(t._s(e.data.source.nickname))]),i("text",{staticClass:"clID-operation"},[t._v("回复了你的评论")])]),i("view",{staticClass:"clID-time"},[t._v(t._s(e.data.source.createDate))])])]),i("view",{attrs:{eventid:"92389ff8-9-"+a+"-"+s},on:{tap:function(e){t.goToComment(t.commentList[s].data.source.articleId)}}},[i("view",{staticClass:"brief-bar-nocolor"},[i("view",{staticClass:"brief-bar-rel"},[t._v(t._s(e.data.source.comment))])]),i("view",{staticClass:"brief-bar-abs-cmtofcmt"},[i("view",{staticClass:"brief-bar-rel-cmtofcmt"},[t._v(t._s(e.data.target.comment))])])]),i("view",{staticClass:"marginHelper2"})]):t._e()])}),i("view",{staticClass:"marginHelper3"})],2)],1)}))],1)])},s=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},ec17:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=s(i("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function n(t,e,i,a,s,n,o){try{var r=t[n](o),c=r.value}catch(l){return void i(l)}r.done?e(c):Promise.resolve(c).then(a,s)}function o(t){return function(){var e=this,i=arguments;return new Promise(function(a,s){var o=t.apply(e,i);function r(t){n(o,a,s,r,c,"next",t)}function c(t){n(o,a,s,r,c,"throw",t)}r(void 0)})}}var r={data:function(){return{scrollLeft:0,isClickChange:!1,currentTab:"",menuTabs:[{name:"点赞"},{name:"评论"}],swiperDataList:[[],[]],likeList:"",commentList:"",screenWidth:350,scrollTop:0,old:{scrollTop:0},LIKEARTICLE:this.netty.LIKEARTICLE,LIKECOMMENT:this.netty.LIKECOMMENT,COMMENTARTICLE:this.netty.COMMENTARTICLE,COMMENTCOMMENT:this.netty.COMMENTCOMMENT,serverUrl:this.$serverUrl,userInfo:"",likePage:1,commentPage:1}},onLoad:function(e){var i=JSON.parse(e.currentTab);t.setNavigationBarTitle({title:"消息列表"}),this.currentTab=i;var a=t.getSystemInfoSync().screenWidth;this.screenWidth=a;var s=this.getGlobalUserInfo();this.userInfo=s,this.likeList=this.notification.getLikeMsg(this.likePage),this.commentList=this.notification.getCommentMsg(this.commentPage),console.log(this.likeList),console.log(this.commentList)},onShow:function(){},changeIndicatorDots:function(t){this.indicatorDots=!this.indicatorDots},changeAutoplay:function(t){this.autoplay=!this.autoplay},intervalChange:function(t){this.interval=t.target.value},durationChange:function(t){this.duration=t.target.value},onPullDownRefresh:function(){console.log("refresh"),setTimeout(function(){t.stopPullDownRefresh()},1e3)},methods:{swichMenu:function(){var t=o(a.default.mark(function t(e){return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.currentTab!=e){t.next=4;break}return t.abrupt("return",!1);case 4:0==e?(this.likePage=1,this.likeList=this.notification.getLikeMsg(this.likePage),this.$store.commit("setLikeMsgCount",0)):(this.commentPage=1,this.commentList=this.notification.getCommentMsg(this.commentPage),this.$store.commit("setCommentMsgCount",0)),this.currentTab=e,this.setScrollLeft(e);case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),swiperChange:function(){var t=o(a.default.mark(function t(e){var i;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:i=e.target.current,this.setScrollLeft(i),this.currentTab=i;case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),setScrollLeft:function(){var e=o(a.default.mark(function e(i){var s,n,o,r;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:s=0,n=0;case 2:if(!(n<=i)){e.next=10;break}return e.next=5,this.getWidth("tabNum"+n);case 5:o=e.sent,s+=o.width;case 7:n++,e.next=2;break;case 10:r=t.getSystemInfoSync().windowWidth,this.scrollLeft=s>r?s-r:0;case 12:case"end":return e.stop()}},e,this)}));function i(t){return e.apply(this,arguments)}return i}(),getWidth:function(e){return new Promise(function(i,a){t.createSelectorQuery().select("#"+e).fields({size:!0,scrollOffset:!0},function(t){i(t)}).exec()})},upper:function(t){console.log(t)},scroll:function(t){console.log(t),this.old.scrollTop=t.detail.scrollTop},goTop:function(t){this.scrollTop=this.old.scrollTop,this.$nextTick(function(){this.scrollTop=0})},loadMore:function(e){if(console.log("正在加载更多数据。。。"),t.showLoading({title:"加载中"}),0==e){var i=this.likePage+1,a=this.notification.getLikeMsg(i);null!=a?(this.likeList=this.likeList.concat(a),this.likePage++):t.showToast({title:"No more",duration:2e3,icon:"none"}),t.hideLoading()}else{i=this.commentPage+1,a=this.notification.getCommentMsg(i);null!=a?(this.commentList=this.commentList.concat(a),this.commentPage++):t.showToast({title:"No more",duration:2e3,icon:"none"}),t.hideLoading()}},goToPersonPublic:function(e){t.navigateTo({url:"/pages/personpublic/personpublic?userId="+e})},goToArticle:function(e){t.navigateTo({url:"../detail/detail?data="+JSON.stringify(e)})},goToComment:function(e){var i=this;t.request({url:i.$serverUrl+"/article/getArticleById",method:"POST",data:{articleId:e,userId:i.userInfo.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){if(200==e.data.status){var i=e.data.data;t.navigateTo({url:"../detail/detail?data="+JSON.stringify(i)})}}})}}};e.default=r}).call(this,i("6e42")["default"])}},[["7c36","common/runtime","common/vendor"]]]);