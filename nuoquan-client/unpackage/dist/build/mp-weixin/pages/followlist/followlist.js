(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/followlist/followlist"],{"262c":function(t,e,n){"use strict";var o=n("3d6a"),r=n.n(o);r.a},"3d6a":function(t,e,n){},5695:function(t,e,n){"use strict";n.r(e);var o=n("5764"),r=n("ba10");for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);n("262c");var i=n("2877"),a=Object(i["a"])(r["default"],o["a"],o["b"],!1,null,null,null);e["default"]=a.exports},5764:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},r=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})},a823:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,r=s(n("a34a"));function s(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o,r,s,i){try{var a=t[s](i),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(o,r)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(o,r){var s=t.apply(e,n);function a(t){i(s,o,r,a,l,"next",t)}function l(t){i(s,o,r,a,l,"throw",t)}a(void 0)})}}var l={data:function(){return{scrollLeft:0,isClickChange:!1,currentTab:"",menuTabs:[{name:"他关注的"},{name:"关注他的"}],swiperDataList:[[],[]],followList:"",fansList:"",myId:"",screenWidth:350,serverUrl:"",scrollTop:0,old:{scrollTop:0}}},changeIndicatorDots:function(t){this.indicatorDots=!this.indicatorDots},changeAutoplay:function(t){this.autoplay=!this.autoplay},intervalChange:function(t){this.interval=t.target.value},durationChange:function(t){this.duration=t.target.value},onLoad:function(e){var n=JSON.parse(e.data),r=n.thisUserInfo,s=n.currentTab;t.setNavigationBarTitle({title:r.nickname+"的主页"}),o=this.getGlobalUserInfo(),this.myId=o.id;var i=r.id;this.queryFansFollow(i),this.currentTab=s;var a=t.getSystemInfoSync().screenWidth;this.screenWidth=a},onPullDownRefresh:function(){console.log("refresh"),setTimeout(function(){t.stopPullDownRefresh()},1e3)},methods:{swichMenu:function(){var t=a(r.default.mark(function t(e){return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.currentTab!=e){t.next=4;break}return t.abrupt("return",!1);case 4:this.currentTab=e,this.setScrollLeft(e);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),swiperChange:function(){var t=a(r.default.mark(function t(e){var n;return r.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.target.current,this.setScrollLeft(n),this.currentTab=n;case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),setScrollLeft:function(){var e=a(r.default.mark(function e(n){var o,s,i,a;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:o=0,s=0;case 2:if(!(s<=n)){e.next=10;break}return e.next=5,this.getWidth("tabNum"+s);case 5:i=e.sent,o+=i.width;case 7:s++,e.next=2;break;case 10:a=t.getSystemInfoSync().windowWidth,this.scrollLeft=o>a?o-a:0;case 12:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),getWidth:function(e){return new Promise(function(n,o){t.createSelectorQuery().select("#"+e).fields({size:!0,scrollOffset:!0},function(t){n(t)}).exec()})},loadMore:function(t){console.log("正在加载更多数据。。。"),this.getDateList(t)},upper:function(t){console.log(t)},lower:function(t){console.log(t)},scroll:function(t){console.log(t),this.old.scrollTop=t.detail.scrollTop},goTop:function(t){this.scrollTop=this.old.scrollTop,this.$nextTick(function(){this.scrollTop=0})},addFollow:function(e,n){var r;console.log("加关注..."),0==e?r=this.followList:1==e&&(r=this.fansList);var s=r[n],i=this;t.request({url:i.$serverUrl+"/user/follow",method:"POST",data:{userId:s.id,fanId:o.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){200==t.data.status&&(s.follow=!0)}})},cancelFollow:function(e,n){var r;console.log("取关..."),0==e?r=this.followList:1==e&&(r=this.fansList);var s=r[n],i=this;t.request({url:i.$serverUrl+"/user/dontFollow",method:"POST",data:{userId:s.id,fanId:o.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){200==t.data.status&&(s.follow=!1)}})},queryFansFollow:function(e){var n=this;t.request({url:n.$serverUrl+"/user/queryFansAndFollow",method:"POST",data:{userId:e,myId:o.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){if(console.log(t),200==t.data.status){var e=t.data.data;n.followList=e.followList,n.fansList=e.fansList}}})},goToPersonPublic:function(e,n){var o;0==e?o=this.followList:1==e&&(o=this.fansList);var r=o[n].id;t.redirectTo({url:"../personpublic/personpublic?userId="+r})}}};e.default=l}).call(this,n("543d")["default"])},ba10:function(t,e,n){"use strict";n.r(e);var o=n("a823"),r=n.n(o);for(var s in o)"default"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);e["default"]=r.a}},[["342a","common/runtime","common/vendor"]]]);