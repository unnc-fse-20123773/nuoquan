(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/personpublic/personpublic"],{2908:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,r,o,a,s){try{var i=t[a](s),u=i.value}catch(c){return void n(c)}i.done?e(u):Promise.resolve(u).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){s(a,r,o,i,u,"next",t)}function u(t){s(a,r,o,i,u,"throw",t)}i(void 0)})}}var u={data:function(){return{scrollLeft:0,isClickChange:!1,currentTab:0,menuTabs:[{name:"动态"},{name:"帖子"},{name:"点赞"},{name:"评论"}],swiperDateList:[[],[],[],[],[],[]],screenWidth:350,serverUrl:"",thisUserInfo:"",myPublic:!1}},changeIndicatorDots:function(t){this.indicatorDots=!this.indicatorDots},changeAutoplay:function(t){this.autoplay=!this.autoplay},intervalChange:function(t){this.interval=t.target.value},durationChange:function(t){this.duration=t.target.value},onLoad:function(e){var n=this,o=e.userId;r=this.getGlobalUserInfo(),r.id==o&&(this.myPublic=!0);var a=t.getSystemInfoSync().screenWidth;this.screenWidth=a;this.page;this.queryUserWithFollow(o),setTimeout(function(){console.log(n.thisUserInfo),t.setNavigationBarTitle({title:n.thisUserInfo.nickname+"的主页"})},200)},onPullDownRefresh:function(){console.log("refresh"),setTimeout(function(){t.stopPullDownRefresh()},1e3)},methods:{swichMenu:function(){var t=i(o.default.mark(function t(e){return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.currentTab!=e){t.next=4;break}return t.abrupt("return",!1);case 4:this.currentTab=e,this.setScrollLeft(e);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),swiperChange:function(){var t=i(o.default.mark(function t(e){var n;return o.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n=e.target.current,this.setScrollLeft(n),this.currentTab=n;case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),setScrollLeft:function(){var e=i(o.default.mark(function e(n){var r,a,s,i;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r=0,a=0;case 2:if(!(a<=n)){e.next=10;break}return e.next=5,this.getWidth("tabNum"+a);case 5:s=e.sent,r+=s.width;case 7:a++,e.next=2;break;case 10:i=t.getSystemInfoSync().windowWidth,this.scrollLeft=r>i?r-i:0;case 12:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),getWidth:function(e){return new Promise(function(n,r){t.createSelectorQuery().select("#"+e).fields({size:!0,scrollOffset:!0},function(t){n(t)}).exec()})},loadMore:function(t){console.log("正在加载更多数据。。。"),this.getDateList(t)},addFollow:function(e){console.log("加关注...");var n=this;t.request({url:n.$serverUrl+"/user/follow",method:"POST",data:{userId:e,fanId:r.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){200==t.data.status&&n.queryUserWithFollow(e)}})},cancelFollow:function(e){console.log("取关...");var n=this;t.request({url:n.$serverUrl+"/user/dontFollow",method:"POST",data:{userId:e,fanId:r.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){200==t.data.status&&n.queryUserWithFollow(e)}})},goToChatPage:function(){var e=this.thisUserInfo;t.redirectTo({url:"../chatpage/chatpage?friendInfo="+JSON.stringify(e)})},goToFansFollow:function(e){console.log("goToFansFollow...");var n={currentTab:e,thisUserInfo:this.thisUserInfo};t.redirectTo({url:"../followlist/followlist?data="+JSON.stringify(n)})},queryUserWithFollow:function(e){var n=this;t.request({url:n.$serverUrl+"/user/queryUserWithFollow",method:"POST",data:{userId:e,fanId:r.id},header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){200==t.data.status&&(n.thisUserInfo=t.data.data,n.setUserInfoToUserList(t.data.data),console.log(t.data.data),console.log(n.getUserInfoFromUserList(t.data.data.id)),console.log(n.getListByKey("userList")))}})}}};e.default=u}).call(this,n("543d")["default"])},3029:function(t,e,n){},"590b":function(t,e,n){"use strict";n.r(e);var r=n("b209"),o=n("af97");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("f52f");var s=n("2877"),i=Object(s["a"])(o["default"],r["a"],r["b"],!1,null,null,null);e["default"]=i.exports},af97:function(t,e,n){"use strict";n.r(e);var r=n("2908"),o=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,function(){return r[t]})}(a);e["default"]=o.a},b209:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o})},f52f:function(t,e,n){"use strict";var r=n("3029"),o=n.n(r);o.a}},[["f42a","common/runtime","common/vendor"]]]);