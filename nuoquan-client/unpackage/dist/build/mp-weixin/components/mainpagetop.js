(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/mainpagetop","pages/search/search"],{"0d8c":function(t,e,a){"use strict";a.r(e);var n=a("2bfd"),r=a("2145");for(var s in r)"default"!==s&&function(t){a.d(e,t,function(){return r[t]})}(s);a("ca3e");var o=a("2877"),i=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,"a6bfaa5e",null);e["default"]=i.exports},2050:function(t,e,a){"use strict";var n=a("8687"),r=a.n(n);r.a},2145:function(t,e,a){"use strict";a.r(e);var n=a("24fb"),r=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=r.a},"24fb":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){return a.e("components/searchResultArticle").then(a.bind(null,"8d21"))},r=!1,s={data:function(){return{hotList:[],searchKeyWords:"",searchedArticleList:[],searching:!0,searchHisKeyList:t.getStorageSync("search_history"),userInfo:this.getGlobalUserInfo(),totalPage:1,currentPage:1}},components:{searchResultArticle:n},created:function(){this.getHotWords()},destroyed:function(){t.hideLoading()},methods:{getHotWords:function(){var e=this;t.request({url:e.$serverUrl+"/article/hot",method:"POST",success:function(t){console.log(t),e.hotList=t.data.data,console.log(e.hotList)}})},search:function(e){if(!r){r=!0;var a=this,n=1;""!=this.searchKeyWords&&null!=this.searchKeyWords?(t.getStorage({key:"search_history",success:function(e){var n=e.data;if(n.length>10){var r=!0,s=!1,o=void 0;try{for(var i,c=n[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var u=i.value;if(u==a.searchKeyWords)return!1}}catch(y){s=!0,o=y}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}n.pop(),n.unshift(a.searchKeyWords)}else{var l=!0,f=!1,h=void 0;try{for(var d,g=n[Symbol.iterator]();!(l=(d=g.next()).done);l=!0){var v=d.value;if(v==a.searchKeyWords)return!1}}catch(y){f=!0,h=y}finally{try{l||null==g.return||g.return()}finally{if(f)throw h}}n.unshift(a.searchKeyWords)}a.searchHisKeyList=n,t.setStorage({key:"search_history",data:a.searchHisKeyList})},fail:function(){a.searchHisKeyList=[],a.searchHisKeyList.push(a.searchKeyWords),t.setStorage({key:"search_history",data:a.searchHisKeyList})}}),t.showLoading({title:"搜索中..."}),setTimeout(function(){r=!1,t.hideLoading(),t.showToast({title:"网络未知错误",icon:"none",duration:1e3})},5e3),t.request({url:a.$serverUrl+"/article/searchArticleYANG",method:"POST",data:{articleContent:a.searchKeyWords,userId:a.userInfo.id,isSaveRecord:n,page:e},success:function(n){if(r=!1,t.hideLoading(),a.searching=!1,200==n.data.status){1==a.currentPage&&(a.searchedArticleList=[]);var s=n.data.data.rows,o=a.searchedArticleList;a.searchedArticleList=o.concat(s),a.currentPage=e,a.totalPage=n.data.data.total}},fail:function(t){console.log("index unirequest fail"),console.log(t)}})):t.showToast({title:"搜索内容不能为空",duration:1e3,icon:"none"})}},loadMore:function(){var e=this,a=e.currentPage;console.log("currentpage is "+a);var n=e.totalPage;if(console.log("totalpage is "+n),a==n)t.showToast({title:"没有更多文章了",icon:"none",duration:1e3});else{var r=a+1;e.search(r)}},searchDeleteAll:function(){var e=this;t.showModal({title:"提示",content:"确定删除所有历史记录吗?",success:function(a){a.confirm?(e.searchHisKeyList=[],t.setStorage({key:"search_history",data:e.searchHisKeyList})):a.cancle}})},searchCancle:function(t){this.searching=!t},exitSearch:function(){this.hotList="",this.searchKeyWords="",this.searchedArticleList="",this.$emit("exitSearchSignal",0)},putHotIntoInput:function(t){var e=this.hotList[t];this.searchKeyWords=e},putHisIntoInput:function(t){var e=this.searchHisKeyList[t];this.searchKeyWords=e}}};e.default=s}).call(this,a("543d")["default"])},"2bfd":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},r=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r})},"352a":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("0d8c"));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){return a.e("components/mainpageleft").then(a.bind(null,"f49b"))},o={props:{userInfo:{faceImg:"../static/touxiang.jpg"},topArticles:"",topHeight:""},components:{mainpageleft:s,searchpage:n.default},data:function(){return{showMainPageLeft:0,showSearch:0}},methods:{controlShowLeft:function(t){this.showMainPageLeft=t},controlShowSearch:function(t){console.log("this is controlShowSearch, receive data will be appied"),console.log(t),this.showSearch=t},jumpToSubmit:function(){t.navigateTo({url:"/pages/submit/submit"})},goToDetail:function(e){t.navigateTo({url:"/pages/detail/detail?data="+JSON.stringify(e)})}}};e.default=o}).call(this,a("543d")["default"])},"5fd7":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c},r=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return r})},"787a":function(t,e,a){},"7df5":function(t,e,a){"use strict";a.r(e);var n=a("352a"),r=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=r.a},8687:function(t,e,a){},"86e7":function(t,e,a){},"8c83":function(t,e,a){"use strict";a.r(e);var n=a("5fd7"),r=a("7df5");for(var s in r)"default"!==s&&function(t){a.d(e,t,function(){return r[t]})}(s);a("a423"),a("2050");var o=a("2877"),i=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,"103c8336",null);e["default"]=i.exports},a423:function(t,e,a){"use strict";var n=a("787a"),r=a.n(n);r.a},ca3e:function(t,e,a){"use strict";var n=a("86e7"),r=a.n(n);r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/mainpagetop-create-component',
    {
        'components/mainpagetop-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("8c83"))
        })
    },
    [['components/mainpagetop-create-component']]
]);                
