(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["common/main"],[
/* 0 */
/*!**********************************************************************!*\
  !*** /Users/xudeyan/Documents/GitHub/nuoquan/nuoquan-client/main.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(uni) {__webpack_require__(/*! uni-pages */ 4);\nvar _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 3));\nvar _App = _interopRequireDefault(__webpack_require__(/*! ./App */ 5));\nvar _store = _interopRequireDefault(__webpack_require__(/*! ./store */ 11));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};var ownKeys = Object.keys(source);if (typeof Object.getOwnPropertySymbols === 'function') {ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {return Object.getOwnPropertyDescriptor(source, sym).enumerable;}));}ownKeys.forEach(function (key) {_defineProperty(target, key, source[key]);});}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;} // 引入 vuex 的 store 对象\n// import {mapMutations} from 'vuex';\n\nvar app = new _vue.default(_objectSpread({\n  store: _store.default },\n_App.default));\n\napp.$mount();\n_App.default.mpType = 'app';\n\n_vue.default.config.productionTip = false;\n\n_vue.default.prototype.$store = _store.default;\n_vue.default.prototype.$serverUrl = \"http://127.0.0.1:8080\";\n_vue.default.prototype.$wsServerUrl = \"ws://127.0.0.1:8088/ws\";\n\n// Vue.prototype.$serverUrl = \"http://192.168.31.210:8080\"\n// Vue.prototype.$wsServerUrl = \"ws://192.168.31.210:8088/ws\"\n\n/**\n * 获取当前用户信息（我）\n * @param {Object} user\n */\n_vue.default.prototype.setGlobalUserInfo = function (user) {\n  uni.setStorageSync('userInfo', user);\n};\n\n/**\n    * 设置当前用户信息\n    */\n_vue.default.prototype.getGlobalUserInfo = function () {\n  var value = uni.getStorageSync('userInfo');\n  return value;\n};\n\n/**\n    * 清空当前用户信息\n    */\n_vue.default.prototype.removeGlobalUserInfo = function () {\n  uni.removeStorageSync('userInfo');\n};\n\n/**\n    * 把对象添加到列表尾部，并储存在缓存里\n    * @param {Object} obj\n    * @param {Object} list\n    */\n_vue.default.prototype.setIntoList = function (obj, listName) {\n  var listStr = uni.getStorageSync(listName);\n  // 从本地缓存获取列表名是否存在\n  var list;\n  if (app.isNull(listStr)) {\n    // 为空，赋一个空的list；\n    list = [];\n  } else {\n    // 不为空\n    list = JSON.parse(listStr);\n  }\n  // 插入对象到尾部\n  list.push(obj);\n  uni.setStorageSync(listName, JSON.stringify(list));\n};\n/**\n    * 把对象添加到列表头部，并储存在缓存里\n    * @param {Object} obj\n    * @param {Object} listName\n    */\n_vue.default.prototype.addIntoList = function (obj, listName) {\n  var listStr = uni.getStorageSync(listName);\n  // 从本地缓存获取列表名是否存在\n  var list;\n  if (app.isNull(listStr)) {\n    // 为空，赋一个空的list；\n    list = [];\n  } else {\n    // 不为空\n    list = JSON.parse(listStr);\n  }\n  // 插入对象到头部\n  list.unshift(obj);\n  uni.setStorageSync(listName, JSON.stringify(list));\n};\n/**\n    * 从缓存中按名字获取改名列表\n    * @param {Object} listName\n    */\n_vue.default.prototype.getListByKey = function (listName) {\n  var listStr = uni.getStorageSync(listName);\n  var list;\n  if (app.isNull(listStr)) {\n    // 为空，赋一个空的list；\n    list = [];\n  } else {\n    // 不为空\n    list = JSON.parse(listStr);\n  }\n\n  return list;\n};\n\n\n\n\n/** TODO: 可使用 Map 代替 List 提升查询性能（暂时不知道 map 在 uniapp 中怎么写）\n    *\t \t\t\t\t\t\t\t\t\t\t\t\t\t\t\tby Jerrio\n    * 把该用户信息添加到本地缓存的 userlist 中，如果存在则替换\n    * @param {Object} userInfo\n    */\n_vue.default.prototype.setUserInfoToUserList = function (userInfo) {\n  var userListStr = uni.getStorageSync(\"userList\");\n  var userList;\n  if (app.isNull(userListStr)) {\n    // 为空，赋一个空的list；\n    userList = [];\n  } else {\n    // 不为空，查看该用户是否存在\n    var userList = JSON.parse(userListStr);\n    for (var i = 0; i < userList.length; i++) {\n      var user = userList[i];\n      if (user.id == userInfo.id) {\n        userList.splice(i, 1, userInfo); // 替换\n        return;\n      }\n    }\n  }\n  // 用户不存在\n  userList.push(userInfo);\n  uni.setStorageSync(\"userList\", JSON.stringify(userList));\n};\n\n/**\n    * 根据 userId，在本地缓存中获取该用户信息\n    * @param {Object} userId\n    */\n_vue.default.prototype.getUserInfoFromUserList = function (userId) {\n  var userListStr = uni.getStorageSync(\"userList\");\n\n  if (app.isNull(userListStr)) {\n    // 为空，直接返回 null\n    return null;\n  } else {\n    // 不为空\n    var userList = JSON.parse(userListStr);\n    for (var i = 0; i < userList.length; i++) {\n      var user = userList[i];\n      if (user.id == userId) {\n        return user;\n      }\n    }\n  }\n  return null;\n};\n\n/**\n    * 返回页面栈最后一页(当前页面)\n    */\n_vue.default.prototype.getCurrentPage = function () {\n  var pages = getCurrentPages();\n  var currentPage = pages[pages.length - 1];\n  return currentPage;\n};\n/**\n    * 从服务器查询用户信息, 并拼接额外信息。\n    * [需要设置同步否则得不到值，还未测试，暂时弃用，请手动调用myUser拼接]\n    */\n// Vue.prototype.myQueryUserInfo = async function(userId) {\n// \tvar that = this;\n// \tvar finalUser;\n// \tuni.request({\n// \t\turl: that.$serverUrl + '/user/queryUser',\n// \t\tmethod: \"POST\",\n// \t\tdata: {\n// \t\t\tuserId: userId\n// \t\t},\n// \t\theader: {\n// \t\t\t'content-type': 'application/x-www-form-urlencoded'\n// \t\t},\n// \t\tsuccess: (res) => {\n// \t\t\t// console.log(res)\n// \t\t\tif (res.data.status == 200) {\n// \t\t\t\t// 3.获取返回的用户信息\n// \t\t\t\tfinalUser = res.data.data;\n// \t\t\t\t// 4.分割邮箱地址, 重构user\n// \t\t\t\tfinalUser = that.myUser(finalUser);\n// \t\t\t}\n// \t\t\tconsole.log(\"里面\");\n// \t\t\tconsole.log(finalUser);\n// \t\t\treturn finalUser;\n// \t\t}\n// \t});\n// \t\n// \t// app.$nextTick(function(){\n// \t// \tconsole.log(finalUser);\n// \t// })\n// \t\n// \t// console.log(\"里面2\");\n// \t// console.log(finalUser);\n// \t// return finalUser;\n// }\n\n/**\n * 分割邮箱地址, 重构user\n * @param {Object} user\n */\n_vue.default.prototype.myUser = function (user) {\n  // 分割邮箱地址\n  var email = user.email;\n  if (this.isNull(email)) {\n    email = \"[Email]@nottingham.edu.cn\";\n  }\n  var list = email.split('@');\n  user.emailPrefix = list[0];\n  user.emailSuffix = \"@\" + list[1];\n\n  return user;\n};\n\n_vue.default.prototype.isNull = function (str) {\n  if (str == null || str == \"\" || str == undefined) {\n    return true;\n  }\n  return false;\n};\n\n/**\n    * 自定义封装 socket 供全局调用\n    * @author: Jerrio\n    */\n_vue.default.prototype.mySocket = {\n\n  isOpen: false,\n  socketMsgQueue: [], // 未发送的消息队列\t\n\n  init: function init() {\n    var that = this;\n    // 创建websocket长连接\n    uni.connectSocket({\n      url: app.$wsServerUrl,\n      complete: function complete() {} });\n\n\n    uni.onSocketOpen(function (res) {\n      that.isOpen = true;\n      console.log('WebSocket连接已打开！isSocketOpen=' + that.isOpen);\n      //发送连接消息，向服务器注册信息\n      var myUserId = app.getGlobalUserInfo().id; // 调用全局用户缓存，需要先请求获取\n      if (app.isNull(myUserId)) {\n        console.log(\"请先获取用户数据\");\n        return;\n      }\n      var dataContent = new app.netty.DataContent(app.netty.CONNECT, null, myUserId);\n      that.sendDataContent(dataContent);\n      // 发送未发送的信息\n      for (var i = 0; i < that.socketMsgQueue.length; i++) {\n        if (that.socketMsgQueue[i].action == app.netty.CHAT) {\n          that.sendDataContent(that.socketMsgQueue[i]);\n        }\n      }\n      that.socketMsgQueue = [];\n\n      // 签收未签收消息\n      app.chat.fetchUnsignedChatMsg(); // 获取聊天信息\n      app.notification.fetchUnsignedLikeMsg(); // 获取点赞通知\n      app.notification.fetchUnsignedCommentMsg(); // 获取评论通知\n      // 定时发送心跳\n      setInterval(that.keepAlive, 50000);\n    });\n\n    uni.onSocketError(function (res) {\n      console.log('WebSocket连接打开失败，请检查！');\n    });\n\n    uni.onSocketMessage(function (res) {\n      var dataContent = JSON.parse(res.data);\n      console.log(\"收到服务器内容：\");\n      console.log(dataContent);\n      var action = dataContent.action;\n\n      if (action == app.netty.CHAT ||\n      action == app.netty.LIKEARTICLE ||\n      action == app.netty.LIKECOMMENT ||\n      action == app.netty.COMMENTARTICLE ||\n      action == app.netty.COMMENTCOMMENT) {\n\n        app.$store.commit('setMyMsgCount'); // 累加 msgCount in index.js\n\n        switch (action) {\n          case app.netty.CHAT: // 如果消息类型为 CHAT\n            var chatMessage = dataContent.data;\n            // 发送签收消息\n            that.signMsgList(chatMessage.msgId);\n\n            // 保存聊天历史记录到本地缓存\n            var myId = chatMessage.receiverId;\n            var friendId = chatMessage.senderId;\n            var msg = chatMessage.msg;\n            var createDate = app.formatTime(chatMessage.createDate); // 对时间戳进行格式化\n\n            app.chat.saveUserChatHistory(myId, friendId, msg, app.chat.FRIEND, createDate);\n\n            // 判断当前页面，保存聊天快照\n            var page = app.getCurrentPage();\n            if (page.route == 'pages/chatpage/chatpage') {\n              var pageFriendId = page.data.friendInfo.id; // 打开页面才有对象，越层判断会报对象为空的错\n              /* \n              【BUG】ISO 虚拟机获取 friendInfo.id 报错信息：\n               undefined is not an object (evaluating 'page.data.friendInfo.id')\n               不知道真机会不会有这种情况\n              */\n              // var pagestr = JSON.stringify(page.data);\n              // console.log(pagestr);\n              if (pageFriendId == friendId) {\n                // 与该用户在聊天，标记为已读\n                console.log(\"与该用户在聊天，标记为已读\");\n                app.chat.saveUserChatSnapshot(myId, friendId, msg, app.chat.READ, createDate);\n              }\n            } else {\n              // 聊天页面未打开或不是与该用户聊天，标记为未读\n              console.log(\"聊天页面未打开或不是与该用户聊天，标记为未读\");\n              app.chat.saveUserChatSnapshot(myId, friendId, msg, app.chat.UNREAD, createDate);\n            }\n\n            // 修改 store，发送信号，把消息卡片渲染到对话窗口 和 消息列表\n            var newMessage = new app.chat.ChatHistory(myId, friendId, msg, app.chat.FRIEND, createDate);\n            app.$store.commit('setChatMessageCard', newMessage);\n            break;\n          case app.netty.LIKEARTICLE:\n            console.log(\"获取点赞文章\");\n            // 签收消息\n            that.signLikeArticleList(dataContent.data.source.id);\n            // 存入缓存 (TODO：登陆时获取未签收点赞消息)\n            dataContent.data.source.createDate = app.formatTime(dataContent.data.source.createDate);\n            app.notification.saveLikeMsg(dataContent);\n            app.$store.commit('setLikeMsgCount');\n            break;\n          case app.netty.LIKECOMMENT:\n            console.log(\"获取点赞评论\");\n            // 签收消息\n            that.signLikeCommentList(dataContent.data.source.id);\n            // 存入缓存\n            dataContent.data.source.createDate = app.formatTime(dataContent.data.source.createDate);\n            app.notification.saveLikeMsg(dataContent);\n            app.$store.commit('setLikeMsgCount');\n            break;\n          case app.netty.COMMENTARTICLE:\n            console.log(\"获取评论文章\");\n            // 签收消息\n            that.signCommentList(dataContent.data.source.id);\n            // 存入缓存\n            dataContent.data.source.createDate = app.formatTime(dataContent.data.source.createDate);\n            app.notification.saveCommentMsg(dataContent);\n            app.$store.commit('setCommentMsgCount');\n            break;\n          case app.netty.COMMENTCOMMENT:\n            console.log(\"获取评论评论\");\n            // 签收消息\n            that.signCommentList(dataContent.data.source.id);\n            // 存入缓存\n            dataContent.data.source.createDate = app.formatTime(dataContent.data.source.createDate);\n            app.notification.saveCommentMsg(dataContent);\n            app.$store.commit('setCommentMsgCount');\n            break;\n          default:\n            break;}\n\n      }\n    });\n\n    uni.onSocketClose(function (res) {\n      that.isOpen = false;\n      console.log('WebSocket 已关闭！isSocketOpen=' + that.isOpen);\n      // 三秒一次重连\n      console.log(\"重连中..\");\n      setTimeout(function () {\n        that.init();\n      }, 3000);\n    });\n\n  },\n  /**\n      * 向 netty 服务器发送 聊天信息的方法 sendChatObj\n      * @param {Object} type\n      * @param {Object} toUserId\n      * @param {Object} msg\n      * @param {Object} extand\n      */\n  sendObj: function sendObj(action, toUserId, msg, extand) {\n    var myUserId = app.getGlobalUserInfo().id; // 调用全局用户缓存，需要先请求获取\n    if (app.isNull(myUserId)) {\n      console.log(\"请先获取用户数据\");\n      return;\n    }\n\n    // 获取当前时间戳，传输时间戳\n    var timeStamp = new Date().getTime();\n\n    // 构建载体\n    var chatMessage = new app.netty.ChatMessage(myUserId, toUserId, msg, null, timeStamp);\n    var dataContent = new app.netty.DataContent(action, chatMessage, extand);\n\n    var isSocketOpen = app.mySocket.isOpen;\n    if (isSocketOpen == true) {\n      this.sendDataContent(dataContent);\n    } else {\n      // 加到待发送列表\n      console.log(\"isSocketOpen=\" + isSocketOpen);\n      this.socketMsgQueue.push(dataContent);\n      console.log(this.socketMsgQueue);\n    }\n  },\n\n  /**\n      * 向 netty 服务器发送 DataConten 对象\n      * @param {Object} dataContent\n      */\n  sendDataContent: function sendDataContent(dataContent) {\n    var data = JSON.stringify(dataContent);\n    uni.sendSocketMessage({\n      data: data });\n\n\n    if (dataContent.action == app.netty.CHAT) {\n      // 保存聊天历史到本地缓存，保存聊天快照到本地\n      var chatMessage = dataContent.data;\n      var createDate = app.formatTime(chatMessage.createDate);\n\n      // console.log(\"发消息的时间戳：\" + createDate);\n      app.chat.saveUserChatHistory(chatMessage.senderId,\n      chatMessage.receiverId,\n      chatMessage.msg,\n      app.chat.ME,\n      createDate);\n      app.chat.saveUserChatSnapshot(chatMessage.senderId,\n      chatMessage.receiverId,\n      chatMessage.msg,\n      app.chat.READ,\n      createDate);\n      // 刷到对话窗口\n      app.$store.commit('doFlashChatPage');\n    }\n  },\n\n  /**\n      * 批量签收聊天消息\n      * @param {Object} msgIds\n      */\n  signMsgList: function signMsgList(msgIds) {\n    var dataContent = new app.netty.DataContent(app.netty.SIGNED, null, msgIds);\n    this.sendDataContent(dataContent);\n  },\n\n  /**\n      * 批量签收点赞文章消息\n      * @param {Object} msgIds\n      */\n  signLikeArticleList: function signLikeArticleList(msgIds) {\n    var dataContent = new app.netty.DataContent(app.netty.LIKEARTICLE_SIGN, null, msgIds);\n    this.sendDataContent(dataContent);\n  },\n\n  /**\n      * 批量签收点赞评论消息\n      * @param {Object} msgIds\n      */\n  signLikeCommentList: function signLikeCommentList(msgIds) {\n    var dataContent = new app.netty.DataContent(app.netty.LIKECOMMENT_SIGN, null, msgIds);\n    this.sendDataContent(dataContent);\n  },\n\n  /**\n      * 批量签收评论消息\n      * @param {Object} msgIds\n      */\n  signCommentList: function signCommentList(msgIds) {\n    var dataContent = new app.netty.DataContent(app.netty.COMMENT_SIGN, null, msgIds);\n    this.sendDataContent(dataContent);\n  },\n\n  /**\n      * 发送心跳\n      */\n  keepAlive: function keepAlive() {\n    // 用 setInterval 调用时，使用 this 获取不到实例，故用 app\n    var dataContent = new app.netty.DataContent(app.netty.KEEPALIVE, null, null);\n    app.mySocket.sendDataContent(dataContent);\n  } };\n\n\n_vue.default.prototype.chat = {\n\n  ME: 1, // 我的消息-右边\n  FRIEND: 2, // 对方消息-左边\n  READ: 3,\n  UNREAD: 4,\n  /**\n              * 历史记录对象\n              * @param {Object} myId\n              * @param {Object} friendId\n              * @param {Object} msg\n              * @param {Object} flag 是我的消息还是朋友的消息\n              * @param {Object} createDate\n              */\n  ChatHistory: function ChatHistory(myId, friendId, msg, flag, createDate) {\n    this.myId = myId;\n    this.friendId = friendId;\n    this.msg = msg;\n    this.flag = flag;\n    this.createDate = createDate;\n  },\n\n  /**\n      * 快照对象\n      * @param {Object} myId\n      * @param {Object} friendId\n      * @param {Object} msg\n      * @param {Object} isRead 用于判断消息是已读还是未读\n      * @param {Object} createDate\n      */\n  ChatSnapshot: function ChatSnapshot(myId, friendId, msg, isRead, createDate) {\n    this.myId = myId;\n    this.friendId = friendId;\n    this.msg = msg;\n    this.isRead = isRead;\n    this.createDate = createDate;\n  },\n  /**\n      * 保存用户的聊天记录\n      * @param {Object} myId\n      * @param {Object} friendId\n      * @param {Object} msg\n      * @param {Object} flag 判断本条消息是谁发送的, 1：我 2：朋友\n      * @param {Object} createDate\n      */\n  saveUserChatHistory: function saveUserChatHistory(myId, friendId, msg, flag, createDate) {\n\n    var chatKey = \"chat-\" + myId + \"-\" + friendId;\n    // 从本地缓存获取聊天记录是否存在\n    var chatHistoryListStr = uni.getStorageSync(chatKey);\n    var chatHistoryList;\n    if (app.isNull(chatHistoryListStr)) {\n      // 为空，赋一个空的list；\n      chatHistoryList = [];\n    } else {\n      // 不为空\n      chatHistoryList = JSON.parse(chatHistoryListStr);\n    }\n\n    // 构建聊天记录对象\n    var singleMsg = new this.ChatHistory(myId, friendId, msg, flag, createDate);\n\n    // 添加到list尾部\n    chatHistoryList.push(singleMsg);\n\n    uni.setStorageSync(chatKey, JSON.stringify(chatHistoryList));\n\n  },\n\n  getUserChatHistory: function getUserChatHistory(myId, friendId) {\n    var chatKey = \"chat-\" + myId + \"-\" + friendId;\n    var chatHistoryListStr = uni.getStorageSync(chatKey);\n    var chatHistoryList;\n    if (app.isNull(chatHistoryListStr)) {\n      // 为空，赋一个空的list；\n      chatHistoryList = [];\n    } else {\n      // 不为空\n      chatHistoryList = JSON.parse(chatHistoryListStr);\n    }\n\n    return chatHistoryList;\n  },\n\n  /**\n      * 删除我和朋友的聊天记录\n      * @param {Object} myId\n      * @param {Object} friendId\n      */\n  deletUserChatHistory: function deletUserChatHistory(myId, friendId) {\n    var chatKey = \"chat-\" + myId + \"-\" + friendId;\n    uni.removeStorageSync(chatKey);\n  },\n\n  /**\n      * 聊天记录快照，仅保存每次和朋友聊天的最后一条消息\n      * @param {Object} myId\n      * @param {Object} friendId\n      * @param {Object} msg\n      * @param {Object} isRead\n      * @param {Object} createDate\n      */\n  saveUserChatSnapshot: function saveUserChatSnapshot(myId, friendId, msg, isRead, createDate) {\n\n    var chatKey = \"chat-snapshot\" + myId;\n\n    // 从本地缓存获取聊天快照的 list\n    var chatSnapshotListStr = uni.getStorageSync(chatKey);\n    var chatSnapshotList;\n    if (app.isNull(chatSnapshotListStr)) {\n      // 为空，赋一个空的list；\n      chatSnapshotList = [];\n    } else {\n      // 不为空\n      chatSnapshotList = JSON.parse(chatSnapshotListStr);\n      // 循环快照list，删除含 friendId 的项\n      for (var i = 0; i < chatSnapshotList.length; i++) {\n        if (chatSnapshotList[i].friendId == friendId) {\n          chatSnapshotList.splice(i, 1); // 从i项往后删，只删一个\n          break;\n        }\n      }\n    }\n    // 构建聊天快照对象\n    var singleMsg = new this.ChatSnapshot(myId, friendId, msg, isRead, createDate);\n    // 添加到 list 第一项\n    chatSnapshotList.unshift(singleMsg);\n\n    uni.setStorageSync(chatKey, JSON.stringify(chatSnapshotList));\n  },\n\n  /**\n      * 获取用户快照记录列表\n      */\n  getUserChatSnapShot: function getUserChatSnapShot(myId) {\n    var chatKey = \"chat-snapshot\" + myId;\n\n    // 从本地缓存获取聊天快照的 list\n    var chatSnapshotListStr = uni.getStorageSync(chatKey);\n    var chatSnapshotList;\n    if (app.isNull(chatSnapshotListStr)) {\n      // 为空，赋一个空的list；\n      chatSnapshotList = [];\n    } else {\n      // 不为空\n      chatSnapshotList = JSON.parse(chatSnapshotListStr);\n    }\n\n    return chatSnapshotList;\n  },\n\n  /**\n      * 删除与该用户的聊天快照记录\n      * @param {Object} myId\n      * @param {Object} friendId\n      */\n  deletUserChatSnapShot: function deletUserChatSnapShot(myId, friendId) {\n    var chatKey = \"chat-snapshot\" + myId;\n    // 从本地缓存获取聊天快照的 list\n    var chatSnapshotListStr = uni.getStorageSync(chatKey);\n    var chatSnapshotList;\n    if (app.isNull(chatSnapshotListStr)) {\n      // 为空，不作处理\n      return;\n    } else {\n      // 不为空\n      chatSnapshotList = JSON.parse(chatSnapshotListStr);\n      // 循环快照list，删除含 friendId 的项\n      for (var i = 0; i < chatSnapshotList.length; i++) {\n        if (chatSnapshotList[i].friendId == friendId) {\n          chatSnapshotList.splice(i, 1); // 从i项往后删，只删一个\n          break;\n        }\n      }\n    }\n\n    uni.setStorageSync(chatKey, JSON.stringify(chatSnapshotList));\n  },\n\n  /**\n      * 把快照标记为已读，并且不改变在列表中的位置\n      * @param {Object} myId\n      * @param {Object} friendId\n      */\n  readUserChatSnapShot: function readUserChatSnapShot(myId, friendId) {\n    var chatKey = \"chat-snapshot\" + myId;\n\n    // 从本地缓存获取聊天快照的 list\n    var chatSnapshotListStr = uni.getStorageSync(chatKey);\n    var chatSnapshotList;\n    if (app.isNull(chatSnapshotListStr)) {\n      // 为空，赋一个空的list；\n      return;\n    } else {\n      // 不为空\n      chatSnapshotList = JSON.parse(chatSnapshotListStr);\n      // 删除快照对象并放入新的在原有位置\n      for (var i = 0; i < chatSnapshotList.length; i++) {\n        var item = chatSnapshotList[i];\n        if (item.friendId == friendId) {\n          item.isRead = this.READ;\n          chatSnapshotList.splice(i, 1, item); // 替换\n          break;\n        }\n      }\n\n      uni.setStorageSync(chatKey, JSON.stringify(chatSnapshotList));\n    }\n  },\n\n  fetchUnsignedChatMsg: function fetchUnsignedChatMsg() {var _this = this;\n    var user = app.getGlobalUserInfo();\n    var msgIds = \",\"; // 格式: ,1001,1002,1003,\n    var that = this;\n    uni.request({\n      url: app.$serverUrl + '/user/getUnsignedMsg',\n      method: \"POST\",\n      data: {\n        userId: user.id },\n\n      header: {\n        'content-type': 'application/x-www-form-urlencoded' },\n\n      success: function success(res) {\n        // console.log(res)\n        if (res.data.status == 200) {\n          var unsignedMsgList = res.data.data;\n          console.log(unsignedMsgList);\n          if (!app.isNull(unsignedMsgList)) {\n            app.$store.commit('setMyMsgCount', unsignedMsgList.length); // 增加 msgCount in index.js\n            for (var i = 0; i < unsignedMsgList.length; i++) {\n              var msgObj = unsignedMsgList[i];\n              var timeStamp = new Date(msgObj.createDate).getTime();\n              var createDate = app.formatTime(timeStamp);\n              // 1.逐条存入聊天记录\n              _this.saveUserChatHistory(msgObj.acceptUserId,\n              msgObj.sendUserId,\n              msgObj.msg,\n              _this.FRIEND,\n              createDate);\n              // 2.保存聊天快照到本地\n              _this.saveUserChatSnapshot(msgObj.acceptUserId,\n              msgObj.sendUserId,\n              msgObj.msg,\n              _this.UNREAD,\n              createDate);\n              // 3.拼接批量签收id的字符串\n              msgIds += msgObj.id + \",\";\n            }\n\n            // 调用批量签收方法\n            app.mySocket.signMsgList(msgIds);\n          }\n        }\n      } });\n\n  }\n\n\n  /**\n     * 点赞评论通知\n     */ };\n_vue.default.prototype.notification = {\n  LIKEMSG_KEY: \"likeMsg\",\n  COMMENTMSG_KEY: \"commentMsg\",\n  /**\n                                 * 把点赞通知存入缓存\n                                 * @param {Object} dataContent\n                                 */\n  saveLikeMsg: function saveLikeMsg(dataContent) {\n    app.addIntoList(dataContent, this.LIKEMSG_KEY);\n  },\n\n  getLikeMsg: function getLikeMsg() {\n    return app.getListByKey(this.LIKEMSG_KEY);\n  },\n\n  /**\n      * 把评论通知存入缓存\n      * @param {Object} dataContent\n      */\n  saveCommentMsg: function saveCommentMsg(dataContent) {\n    app.addIntoList(dataContent, this.COMMENTMSG_KEY);\n  },\n\n  getCommentMsg: function getCommentMsg() {\n    return app.getListByKey(this.COMMENTMSG_KEY);\n  },\n\n  /**\n      * 获取并签收未签收的点赞通知\n      */\n  fetchUnsignedLikeMsg: function fetchUnsignedLikeMsg() {\n    var user = app.getGlobalUserInfo();\n    var likeArticleIds = \",\"; // 格式: ,1001,1002,1003,\n    var likeCommentIds = \",\";\n    var that = this;\n    uni.request({\n      url: app.$serverUrl + '/article/getUnsignedLikeMsg',\n      method: \"POST\",\n      data: {\n        userId: user.id },\n\n      header: {\n        'content-type': 'application/x-www-form-urlencoded' },\n\n      success: function success(res) {\n        // console.log(res)\n        if (res.data.status == 200) {\n          var unsignedMsgList = res.data.data;\n          console.log(unsignedMsgList);\n          if (!app.isNull(unsignedMsgList)) {\n            for (var i = 0; i < unsignedMsgList.length; i++) {\n              var dataContent = unsignedMsgList[i];\n              //累加信息\n              app.$store.commit('setMyMsgCount'); // 累加通用信息\n              app.$store.commit('setLikeMsgCount'); //累加点赞信息\n              // 逐条存入缓存\n              dataContent.data.source.createDate = app.formatTime(dataContent.data.source.createDate);\n              app.notification.saveLikeMsg(dataContent);\n              // 拼接批量签收id的字符串\n              switch (dataContent.action) {\n                case app.netty.LIKEARTICLE:\n                  likeArticleIds += dataContent.data.source.id + \",\";\n                  break;\n                case app.netty.LIKECOMMENT:\n                  likeCommentIds += dataContent.data.source.id + \",\";\n                  break;\n                default:\n                  break;}\n\n            }\n\n            // 调用批量签收方法\n            app.mySocket.signLikeArticleList(likeArticleIds);\n            app.mySocket.signLikeCommentList(likeCommentIds);\n          }\n        }\n      } });\n\n  },\n\n  /**\n      * 获取并签收未签收的评论通知\n      */\n  fetchUnsignedCommentMsg: function fetchUnsignedCommentMsg() {\n    var user = app.getGlobalUserInfo();\n    var commentIds = \",\"; // 格式: ,1001,1002,1003,\n    var that = this;\n    uni.request({\n      url: app.$serverUrl + '/article/getUnsignedCommentMsg',\n      method: \"POST\",\n      data: {\n        userId: user.id },\n\n      header: {\n        'content-type': 'application/x-www-form-urlencoded' },\n\n      success: function success(res) {\n        // console.log(res)\n        if (res.data.status == 200) {\n          var unsignedMsgList = res.data.data;\n          console.log(unsignedMsgList);\n          if (!app.isNull(unsignedMsgList)) {\n            for (var i = 0; i < unsignedMsgList.length; i++) {\n              var dataContent = unsignedMsgList[i];\n              //累加信息\n              app.$store.commit('setMyMsgCount'); // 累加通用信息\n              app.$store.commit('setCommentMsgCount'); //累加评论信息\n              // 逐条存入缓存\n              dataContent.data.source.createDate = app.formatTime(dataContent.data.source.createDate);\n              app.notification.saveCommentMsg(dataContent);\n              // 拼接批量签收id的字符串\n              commentIds += dataContent.data.source.id + \",\";\n            }\n\n            // 调用批量签收方法\n            app.mySocket.signCommentList(commentIds);\n          }\n        }\n      } });\n\n  } };\n\n\n_vue.default.prototype.netty = {\n  /**\n                                  * 和后端的枚举对应\n                                  */\n  CONNECT: 1, // 第一次(或重连)初始化连接\n  CHAT: 2, // 聊天消息\n  SIGNED: 3, // 消息签收\n  KEEPALIVE: 4, // 客户端保持心跳\n  LIKEARTICLE: 5, // 点赞文章通知\n  LIKECOMMENT: 6, // 点赞评论通知\n  COMMENTARTICLE: 7, // 评论文章通知\n  COMMENTCOMMENT: 8, // 评论评论通知\n  LIKEARTICLE_SIGN: 9, // 签收点赞文章通知\n  LIKECOMMENT_SIGN: 10, // 签收点赞评论通知\n  COMMENT_SIGN: 11, // 签收评论文章通知\n\n  /**\n   * 和后端 ChatMessage 聊天模型的对象保持一致\n   * @param {Object} senderId\n   * @param {Object} receiverId\n   * @param {Object} msg\n   * @param {Object} msgId\n   * @param {Object} createDate\n   */\n  ChatMessage: function ChatMessage(senderId, receiverId, msg, msgId, createDate) {\n    this.senderId = senderId;\n    this.receiverId = receiverId;\n    this.msg = msg;\n    this.msgId = msgId; // 前端发送设置null就好\n    this.createDate = createDate;\n  },\n\n  /**\n      * 构建消息 DataContent 模型对象\n      * @param {Object} action\n      * @param {Object} data\n      * @param {Object} extand\n      */\n  DataContent: function DataContent(action, data, extand) {\n    this.action = action;\n    this.data = data;\n    this.extand = extand;\n  }\n\n\n  /**\n     * 格式化时间戳\n     * @param {Object} timeStamp\n     */ };\n_vue.default.prototype.formatTime = function (timeStamp) {\n  // 将/[0-9]/位的数字编成/0[0-9]/  \n\n  if (timeStamp.length < 13) {\n    timeStamp += \"000\";\n  }\n  var d = new Date(parseInt(timeStamp));\n\n  var year = d.getFullYear();\n  var month = this.getTwo(d.getMonth() + 1);\n  var date = this.getTwo(d.getDate());\n  var hour = this.getTwo(d.getHours());\n  var minute = this.getTwo(d.getMinutes());\n  var second = this.getTwo(d.getSeconds());\n\n  return month + \"/\" + date + \" \" + hour + \":\" + minute;\n  // 明年改加上年的逻辑 鸣谦说的...\n  // return year + \"/\" + month + \"/\" + date + \" \" + hour + \":\" + minute + \":\" + second;\n};\n\n_vue.default.prototype.getTwo = function (s) {\n  if (parseInt(s) < 10) {\n    return \"0\" + s;\n  } else {\n    return \"\" + s;\n  }\n};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-app-plus/dist/index.js */ 1)[\"default\"]))\n\n//# sourceURL=undefined");

/***/ }),
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */
/*!**********************************************************************!*\
  !*** /Users/xudeyan/Documents/GitHub/nuoquan/nuoquan-client/App.vue ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App.vue?vue&type=script&lang=js& */ 6);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var _App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./App.vue?vue&type=style&index=0&lang=css& */ 8);\n/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 10);\nvar render, staticRenderFns\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"Users/xudeyan/Documents/GitHub/nuoquan/nuoquan-client/App.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n//# sourceURL=undefined");

/***/ }),
/* 6 */
/*!***********************************************************************************************!*\
  !*** /Users/xudeyan/Documents/GitHub/nuoquan/nuoquan-client/App.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js& */ 7);\n/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__[\"default\"] = (_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_18_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=undefined");

/***/ }),
/* 7 */
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--18-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/xudeyan/Documents/GitHub/nuoquan/nuoquan-client/App.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = void 0;var _default =\n{\n  onLaunch: function onLaunch() {\n    console.log('App Launch');\n  },\n  onShow: function onShow() {\n    console.log('App Show');\n  },\n  onHide: function onHide() {\n    console.log('App Hide');\n  } };exports.default = _default;\n\n//# sourceURL=undefined");

/***/ }),
/* 8 */
/*!*******************************************************************************************************!*\
  !*** /Users/xudeyan/Documents/GitHub/nuoquan/nuoquan-client/App.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader??ref--6-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css& */ 9);\n/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n /* harmony default export */ __webpack_exports__[\"default\"] = (_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n//# sourceURL=undefined");

/***/ }),
/* 9 */
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/xudeyan/Documents/GitHub/nuoquan/nuoquan-client/App.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=undefined");

/***/ }),
/* 10 */,
/* 11 */
/*!*****************************************************************************!*\
  !*** /Users/xudeyan/Documents/GitHub/nuoquan/nuoquan-client/store/index.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, \"__esModule\", { value: true });exports.default = void 0;var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 3));\nvar _vuex = _interopRequireDefault(__webpack_require__(/*! vuex */ 12));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}\n\n_vue.default.use(_vuex.default);\n\nvar isNull = function isNull(str) {// 数字0会被判定为true\n  if (str == null || str == \"\" || str == undefined) {\n    return true;\n  }\n  return false;\n};\n\nvar sMyMsg = uni.getStorageSync('myMsgCount'); // 其实返回 null 会被当成 0\nvar sLikeMsg = uni.getStorageSync('likeMsgCount');\nvar sCommentMsg = uni.getStorageSync('commentMsgCount');\nvar store = new _vuex.default.Store({\n  state: {\n    chatMessageCard: '', // 暂存一条socket接收的聊天消息 & 刷新消息列表的条件\n    flashChatPage: \"doFlash\", // 作为触发 chatPage 刷新的条件\n    myMsgCount: sMyMsg == null ? 0 : sMyMsg, // 左侧栏通用未读消息计数\n    likeMsgCount: sLikeMsg == null ? 0 : sLikeMsg, // 点赞未读消息计数\n    commentMsgCount: sCommentMsg == null ? 0 : sCommentMsg // 评论未读消息计数\n  },\n  mutations: {\n    setChatMessageCard: function setChatMessageCard(state, value) {\n      state.chatMessageCard = value;\n    },\n\n    doFlashChatPage: function doFlashChatPage(state, value) {\n      // 获取当前时间，使数据变化\n      state.flashChatPage = new Date().getTime();\n    },\n\n    setMyMsgCount: function setMyMsgCount(state, value) {\n      if (value == undefined) {\n        state.myMsgCount++;\n        uni.setStorageSync('myMsgCount', state.myMsgCount);\n        // console.log(\"value未传值，当前myMsgCount=\" + state.myMsgCount);\n      } else {\n        state.myMsgCount = value;\n        uni.setStorageSync('myMsgCount', state.myMsgCount);\n        // console.log(\"获取到value值，当前myMsgCount=\" + state.myMsgCount);\n      }\n    },\n\n    setLikeMsgCount: function setLikeMsgCount(state, value) {\n      if (value == undefined) {\n        state.likeMsgCount++;\n        uni.setStorageSync('likeMsgCount', state.likeMsgCount);\n      } else {\n        state.likeMsgCount = value;\n        uni.setStorageSync('likeMsgCount', state.likeMsgCount);\n      }\n    },\n\n    setCommentMsgCount: function setCommentMsgCount(state, value) {\n      if (value == undefined) {\n        state.commentMsgCount++;\n        uni.setStorageSync('commentMsgCount', state.commentMsgCount);\n      } else {\n        state.commentMsgCount = value;\n        uni.setStorageSync('commentMsgCount', state.commentMsgCount);\n      }\n    } } });var _default =\n\n\n\n\nstore;exports.default = _default;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-app-plus/dist/index.js */ 1)[\"default\"]))\n\n//# sourceURL=uni-app:///store/index.js");

/***/ })
],[[0,"common/runtime","common/vendor"]]]);