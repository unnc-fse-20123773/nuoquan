{"version":3,"sources":["webpack:////Users/jerrio/Desktop/JumboX/诺圈/Nuoquan/nuoquan-client/pages/test/test.vue?85c7","webpack:////Users/jerrio/Desktop/JumboX/诺圈/Nuoquan/nuoquan-client/pages/test/test.vue?188d","webpack:////Users/jerrio/Desktop/JumboX/诺圈/Nuoquan/nuoquan-client/pages/test/test.vue?4d04","webpack:////Users/jerrio/Desktop/JumboX/诺圈/Nuoquan/nuoquan-client/pages/test/test.vue?ad75","webpack:////Users/jerrio/Desktop/JumboX/诺圈/Nuoquan/nuoquan-client/pages/test/test.vue"],"names":["util","require","email","captcha","components","whCaptcha","data","captchaLength","title","onLoad","methods","onEmailInput","event","target","value","onCaptchaInput","checkUNNCEmail","str","RegExp","test","getCaptcha","regEmail","uni","showToast","icon","$refs","canSend","console","log","begin","that","request","url","$serverUrl","method","userId","getGlobalUserInfo","id","header","success","res","confirmCode","code","status","msg"],"mappings":"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","file":"pages/test/test.js","sourcesContent":["import { render, staticRenderFns } from \"./test.vue?vue&type=template&id=3a7ee8be&\"\nimport script from \"./test.vue?vue&type=script&lang=js&\"\nexport * from \"./test.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3a7ee8be', component.options)\n    } else {\n      api.reload('3a7ee8be', component.options)\n    }\n    module.hot.accept(\"./test.vue?vue&type=template&id=3a7ee8be&\", function () {\n      api.rerender('3a7ee8be', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/jerrio/Desktop/JumboX/诺圈/Nuoquan/nuoquan-client/pages/test/test.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./test.vue?vue&type=template&id=3a7ee8be&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./test.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./test.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport whCaptcha from '../../components/wh-captcha/wh-captcha.vue';\n\nvar util = require('../../common/util.js');\n\nvar email; //输入的email值\nvar captcha; //输入的captcha值\nexport default {\n\tcomponents: {\n\t\twhCaptcha\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcaptchaLength: 6,\n\t\t\ttitle: \"获取验证码\"\n\t\t}\n\t},\n\tonLoad() {\n\t\t\n\t},\n\tmethods: {\n\t\tonEmailInput(event) {\n\t\t\temail = event.target.value;\n\t\t},\n\t\t\n\t\tonCaptchaInput(event) {\n\t\t\tcaptcha = event.target.value;\n\t\t},\n\t\t\n\t\t/**\n\t\t * true: 不匹配, false: 匹配\n\t\t */\n\t\tcheckUNNCEmail(str){\n\t\t\treturn !RegExp(/^\\w+([-+.]\\w+)*@nottingham\\.edu\\.cn+$/).test(str);\n\t\t},\n\t\t\n\t\tgetCaptcha(){\n\t\t\tif(email){\n\t\t\t\t// 检测邮箱\n\t\t\t\tif(util.regEmail(email) || this.checkUNNCEmail(email)){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '非 UNNC 邮箱地址！',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tif(this.$refs.captcha.canSend()){\n\t\t\t\t\t\tconsole.log(\"获取验证码 email=\" + email);\n\t\t\t\t\t\tthis.$refs.captcha.begin();\n\t\t\t\t\t\tthis.title=\"重新发送\"\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar that =this;\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: that.$serverUrl + '/user/getCode',\n\t\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tuserId: that.getGlobalUserInfo().id,\n\t\t\t\t\t\t\t\temail: email,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'Email不能为空',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\tconfirmCode(){\n\t\t\tif(captcha){\n\t\t\t\tvar that = this;\n\t\t\t\tuni.request({\n\t\t\t\t\turl: that.$serverUrl + '/user/confirmCode',\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tuserId: that.getGlobalUserInfo().id,\n\t\t\t\t\t\tcode: captcha,\n\t\t\t\t\t},\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif(res.data.status == 200){\n\t\t\t\t\t\t\tconsole.log(\"验证邮箱成功，下一步\");\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"验证失败 \"+res.data.msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '验证码为空',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n};\n"],"sourceRoot":""}