{"version":3,"sources":["webpack:///D:/nuoquan/nuoquan-client/main.js","webpack:///D:/nuoquan/nuoquan-client/pages/hot/hot.vue?6272","webpack:///D:/nuoquan/nuoquan-client/pages/hot/hot.vue?0f9a","webpack:///D:/nuoquan/nuoquan-client/pages/hot/hot.vue?3a6e","webpack:///D:/nuoquan/nuoquan-client/pages/hot/hot.vue?06c0","webpack:///D:/nuoquan/nuoquan-client/pages/hot/hot.vue","webpack:///D:/nuoquan/nuoquan-client/pages/hot/hot.vue?f820","webpack:///D:/nuoquan/nuoquan-client/pages/hot/hot.vue?fbb6"],"names":["createPage","Page","components","articleInfo","data","minute","second","totalPage","currentPage","loadArticleFlag","userInfo","myArticleList","onLoad","getGlobalUserInfo","isNull","uni","redirectTo","url","mySocket","init","page","showArticles","nextRefresh","methods","now","Date","getMinutes","getSeconds","reload","setTimeout","console","log","showLoading","title","hideLoading","showToast","icon","duration","that","request","$serverUrl","method","userId","id","targetId","header","success","res","newArticleList","rows","oldArticleList","concat","total","totalNum","records","fail","loadMore"],"mappings":"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","file":"pages/hot/hot.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/hot/hot.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./hot.vue?vue&type=template&id=0b3ac718&\"\nimport script from \"./hot.vue?vue&type=script&lang=js&\"\nexport * from \"./hot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hot.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0b3ac718', component.options)\n    } else {\n      api.reload('0b3ac718', component.options)\n    }\n    module.hot.accept(\"./hot.vue?vue&type=template&id=0b3ac718&\", function () {\n      api.rerender('0b3ac718', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"nuoquan/nuoquan-client/pages/hot/hot.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=template&id=0b3ac718&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport articleInfo from './articleInfo.vue';\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tarticleInfo\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tminute:'',\r\n\t\t\t\tsecond:'',\r\n\t\t\t\ttotalPage: 1,\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tloadArticleFlag:false,\r\n\t\t\t\tuserInfo: '',\r\n\t\t\t\tmyArticleList: '',\r\n\t\t};\r\n\t},\r\n\r\n\tonLoad() {\r\n\t\tvar userInfo = this.getGlobalUserInfo();\r\n\t\tif (this.isNull(userInfo)) {\r\n\t\t\tuni.redirectTo({\r\n\t\t\t\turl: '../signin/signin'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tthis.userInfo = userInfo; // 刷去默认值(若有)\r\n\t\t}\r\n\r\n\t\tthis.mySocket.init(); // 初始化 Socket, 离线调试请注释掉\r\n\t\tvar page = this.currentPage;\r\n\t\tthis.showArticles(page);\r\n\t\tthis.nextRefresh();\r\n\t},\r\n\r\n\tmethods: {\t\t\r\n\t\tnextRefresh:function() {\r\n\t\t\tvar now = new Date();\r\n\t\t\tthis.minute = 9-now.getMinutes()%10;\r\n\t\t\tthis.second = 59-now.getSeconds();\r\n\t\t\tif((now.getMinutes()%10==0)&&(now.getSeconds()==0)){\r\n\t\t\t\tthis.reload();\r\n\t\t\t}\t\r\n\t\t\tsetTimeout(() => {this.nextRefresh()}, 1000);\r\n\t\t},\r\n\t\treload: function() {\r\n\t\t\tthis.showArticles(1);\r\n\t\t},\r\n\t\t// 锁\r\n\t\tshowArticles: function(page) {\r\n\t\t\tconsole.log(this.loadArticleFlag);\r\n\t\t\t\r\n\t\t\tif ( this.loadArticleFlag ) {\r\n\t\t\t\tloadArticleFlag = false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.loadArticleFlag = true;\r\n\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '加载中...'\r\n\t\t\t});\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tif (this.loadArticleFlag) {\r\n\t\t\t\t\tthis.loadArticleFlag = false; //解锁\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络未知错误',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, 5000); //延时五秒timeout\r\n\r\n\t\t\tvar that = this;\r\n\t\t\tuni.request({\r\n\t\t\t\turl: that.$serverUrl + '/article/queryAllArticles',\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpage: page,\r\n\t\t\t\t\tuserId: that.userInfo.id,\r\n\t\t\t\t\ttargetId: that.userInfo.id //应该为targetId,但缺少publicProfile的数据传输,暂时用userId测试\r\n\t\t\t\t},\r\n\t\t\t\theader: {\r\n\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t//延时加载\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthis.loadArticleFlag = false;\r\n\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif (page == 1) {\r\n\t\t\t\t\t\t\tthat.myArticleList = [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar newArticleList = res.data.data.rows;\r\n\t\t\t\t\t\tvar oldArticleList = that.myArticleList;\r\n\t\t\t\t\t\tthat.myArticleList = oldArticleList.concat(newArticleList);\r\n\t\t\t\t\t\tthat.currentPage = page;\r\n\t\t\t\t\t\tthat.totalPage = res.data.data.total;\r\n\t\t\t\t\t\tthat.totalNum = res.data.data.records;\r\n\t\t\t\t\t\tconsole.log(that.totalNum);\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t},\r\n\t\t\t\tfail: res => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\tthis.loadArticleFlag = false;\r\n\r\n\t\t\t\t\tconsole.log('index unirequest fail');\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tloadMore: function() {\r\n\t\t\tvar that = this;\r\n\t\t\tvar currentPage = that.currentPage;\r\n\t\t\tconsole.log(currentPage);\r\n\t\t\tvar totalPage = that.totalPage;\r\n\t\t\tconsole.log(totalPage);\r\n\t\t\t// 判断当前页数和总页数是否相等\r\n\t\t\tif (currentPage == totalPage) {\r\n\t\t\t\t// that.showArticles(1);\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '没有更多文章了',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar page = currentPage + 1;\r\n\t\t\t\tthat.showArticles(page);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hot.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}